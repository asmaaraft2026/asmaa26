<!-- برنامج المعمل الافتراضي ثلاثي الأبعاد -->
<!-- برمجة/ أبوالحمد طه عبدالقادر -->
<!-- باحث دكتوراه بقسم تكنولوجيا التعليم كلية التربية بسوهاج -->
<!DOCTYPE html>
<html>
<head>

<!--Programming object 2-->
	<!--اختيار لغة الموقع-->
		<meta charset="utf-8">


<!--Programming object 3-->	
	<!--عنوان الصفحة الرئيسية-->
		<title>برنامج المعمل الافتراضي</title>


<!--Programming object 4-->       
    <!-- Babylon.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
        <script src="https://assets.babylonjs.com/generated/Assets.js"></script>
        <script src="https://cdn.babylonjs.com/recast.js"></script>
        <script src="https://cdn.babylonjs.com/ammo.js"></script>
        <script src="https://cdn.babylonjs.com/havok/HavokPhysics_umd.js"></script>
        <script src="https://cdn.babylonjs.com/cannon.js"></script>
        <script src="https://cdn.babylonjs.com/Oimo.js"></script>
        <script src="https://cdn.babylonjs.com/earcut.min.js"></script>
        <script src="https://cdn.babylonjs.com/babylon.js"></script>
        <script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
        <script src="https://cdn.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
        <script src="https://cdn.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
        <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.js"></script>
        <script src="https://cdn.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
        <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
        <script src="https://cdn.babylonjs.com/addons/babylonjs.addons.min.js"></script>
        <script src="https://cdn.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>
		<script src="https://cdn.babylonjs.com/babylon.js"></script>
        <script src="https://cdn.babylonjs.com/loaders/babylon.objFileLoader.js"></script>
		<script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>

<style>
            html,
            body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                display: flex;
              justify-content: center;        /* يضع الـ container في المنتصف أفقياً */
              align-items: center;            /* يضع الـ container في المنتصف عمودياً */
              background: #f0f0f0;
                    }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }

            #canvasZone {
                width: 100%;
                height: 100%;
            }
        </style>
     
        <style>
      
     #sceneContainer {
    width: 95%;        /* أو 100% */
    height: 95%;       /* أو 100vh */
   
    position: relative;
}

#renderCanvas {
    width: 100%;
    height: 100%;
    display: block;
         border: 5px solid #ccc;
        border-radius: 10px;
}
           
                
                
 </style>
        
    <style>
        body { margin: 0; overflow: hidden; }
            .control     {
                direction: rtl;
              text-align: center;
           position: absolute;
            
            background: rgba(255,255,255,0.5);
           
            border-radius: 10px;
                font-size: 1.5vw;
                    font-weight: bold;
        }
        button { padding: 5px 10px;  font-size: 1vw; font-weight: bold;}
    </style>
        
       
    <style>
           .box {
      width: 300px;
      height: 100px;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 18px;
      border-radius: 10px;
	    background: rgba(255,255,255,0)
    }
	 #guia {
      position: absolute;
	 top: 55%;
     gap: 10px; 
      width: 350px;
      height: 100px;
       border: 1px solid #ccc;
      display: flex;
      justify-content: center;
      align-items: center;
    };
	
	
	 #guic {
    
    
    }
	
	
	
	
	 /*الانتقال إلى الأمام */
	#gui1 {
      position: absolute;
      top: 5%;
	  right: 18%;
       width: 0;
 height: 0;
 border-left: 20px solid transparent;
 border-right: 20px solid transparent;
 border-bottom: 40px solid rgb(0,128,0) ;
 
    
    }
	
    
/*الانتقال إلى الخلف */
#gui2{
      position: absolute;
      bottom: 5%;
	  right: 18%;
      width: 0;
 height: 0;
 border-left: 20px solid transparent;
 border-right: 20px solid transparent;
 border-top: 40px solid rgb( 0,128,0) ;
     
     
    }
/*الانتقال إلى اليمين */
	#gui3{
     position: absolute;
              top: 32%;
      right: 4%;
      width: 0;
 height: 0;
 border-top: 20px solid transparent;
 border-bottom: 20px solid transparent;
 border-left: 40px solid rgb(0,128,0) ;
    
     
    }
/*الانتقال إلى اليسار */	
	#gui4{
     position: absolute;
              top: 32%;
      right: 33%;
	  width: 0;
 height: 0;
 border-top: 20px solid transparent;
 border-bottom: 20px solid transparent;
 border-right: 40px solid rgb(0,128,0) ;
    
      
    }
            
/*الاستدارة إلى أعلى */		
	#gui5 {
       position: absolute;
      top: 5%;
	  right: 70%;
       width: 0;
 height: 0;
 border-left: 20px solid transparent;
 border-right: 20px solid transparent;
 border-bottom: 40px solid rgb( 0, 0, 255) ;
     
     
    
    }

/*الاستدارة إلى أسفل*/
#gui6{
      position: absolute;
      bottom: 5%;
	  right: 70%;
     width: 0;
 height: 0;
 border-left: 20px solid transparent;
 border-right: 20px solid transparent;
 border-top: 40px solid rgb(0, 0, 255) ;
     
	  
      
      
    }
           /*الاستدارة إلى اليمين*/
	#gui7{
     position: absolute;
      top: 32%;
      right: 56%;
      width: 0;
 height: 0;
 border-top: 20px solid transparent;
 border-bottom: 20px solid transparent;
 border-left: 40px solid rgb(0, 0, 255) ;
    
     
    }

            
            /*الاستدارة إلى اليسار*/
	#gui8{
     position: absolute;
              top: 32%;
      right: 84%;
	  width: 0;
 height: 0;
 border-top: 20px solid transparent;
 border-bottom: 20px solid transparent;
 border-right: 40px solid rgb(0, 0, 255) ;
    
      
    }
        
            
       
            </style>
        
        
        

	
</head>
<body dir= "rtl">
<!-- Programming object 7 -->
	<!-- إنشاء لوحة الرسم -->
		<div id="sceneContainer" class=" T-container T-border1">
    <canvas id="renderCanvas"></canvas>
</div>
        
        

<!-- Programming object 8 -->
	<!-- إنشاء لوحة التحكم html -->
        <!-- 1-->
		<div id="ui1" class= "control" style= "top: 5%; right: 5%;width: 25%; height:20%;" ><br>
			

			<button id="ui11"  style= "top: 0%; right: 5%;width: 40%; height:25%; color: blue;">لوحة التحكم</button>
			<button id="ui12"  style= "top: 0%; right: 55%;width: 40%; height:25%; color: blue;">الطاولات والتجارب</button><br><br>
        
			<button id="ui13"  style= "top: 55%; right: 5%;width: 40%; height:25%; color: blue;">المساعد الذكي</button>
			<button id="ui14" style= "top: 55%; right: 55%;width: 40%; height:25%;color: blue;">أسهم التنقل والاستدارة</button>
 
			
			
		</div>
        
        
<!-- Programming object 8 -->
	<!-- إنشاء لوحة التحكم html -->
         <!-- 2-->
		<div id="ui2" class= "control" style= "top: 27%; right: 5%;width: 25%; height:45%; display: none;" >
			<h3 style= " color: blue; ">لوحة التحكم</h3>
            <!--<img src="img/logo.jpg" alt="taha" class= "T-radius1" style="width:5%; height: 5%"><br>-->
			

			<button onclick="move('up')" style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;  margin: 5;" >النقل إلى الأعلى</button>
			<button onclick="move('down')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;" >النقل إلى أسفل</button><br>
        
			<button onclick="move('right')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">النقل إلى اليمين</button>
			<button onclick="move('left')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">النقل إلى اليسار</button><br>
  
			<button onclick="move('forward')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">النقل إلى الأمام</button>
			<button onclick="move('backward')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">النقل إلى الخلف</button><br><br>

			<button onclick="rotate('right')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">التدوير إلى اليمين</button>
			<button onclick="rotate('left')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">التدوير إلى اليسار</button><br>
    
			<button onclick="scale('up')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">التكبير</button>
			<button onclick="scale('down')"  style= "top: 0%; right: 5%;width: 40%; height:10%; color: blue;">التصغير</button><br>
      
			
		</div>   
        
<!-- Programming object 8 -->
	<!-- إنشاء لوحة التحكم html -->
          <!-- 3-->
		<div id="ui3" class= "control" style= "top: 5%; left: 5%;width: 20%; height:65%; display: none;" >
			<h3 style= " color: blue; ">الطاولات والتجارب</h3>
            <!--<img src="img/logo.jpg" alt="taha" class= "T-radius1" style="width:5%; height: 5%"><br>-->
			

			<button id = "table1" style= "top: 0%; right: 5%;width: 80%; height:15%; color: blue;">اكتشف تأثير مساحة السطح وتركيز المتفاعلات على سرعة التفاعلات الكيميائية</button><br>
			<button id = "table2" style= "top: 0%; right: 5%;width: 80%; height:15%; color: blue;">اكتشف تأثير درجة الحرارة والعامل الحفاز والإنزيمات على سرعة التفاعلات الكيميائية</button><br>
          
                <br>
             
            <div id="ui31" class= "control" style= "bottom: 2%; right: 5%;width: 90%; height:40%; display: none;" ><br><br>
                    <button id="response211" style= "top: 0%; right: 5%;width: 80%; height:25%; color: blue;">أ- أكتشف تأثير مساحة السطح على سرعة التفاعل الكيميائي.</button><br>
                    <button id="response212"style= "top: 0%; right: 5%;width: 80%; height:25%; color: blue;" >ب- تأثير تركيز المتفاعلات على سرعة التفاعل الكيميائي.</button><br>
                    
        	</div>
			
			<div id="ui32" class= "control" style= "bottom: 2%; right: 5%;width: 90%; height:40%; display: none;" ><br>
                    <button id="response221" style= "top: 0%; right: 5%;width: 80%; height:25%; color: blue;">أ- اكتشف تأثير درجة الحرارة على سرعة التفاعل الكيميائي.</button><br>
                    <button id="response222"style= "top: 0%; right: 5%;width: 80%; height:25%; color: blue;" >ب- اكتشف أثر العامل الحفاز على سرعة التفاعل الكيميائي.</button><br>
                    <button id="response223" style= "top: 0%; right: 5%;width: 80%; height:25%; color: blue;">ج- اكتشف تأثير الانزيمات على سرعة التفاعل الكيميائي.</button><br>
           	</div>
			
			 
		</div>

        
     
        
        
<!-- Programming object 8 -->
	<!-- إنشاء لوحة التحكم html -->
        <!-- 4-->
        <style>
			.container4 {
				display: flex;
				width: 100%;
				height: 100%;
				}

			.box40 {
				flex: 1;              /* كل قسم يأخذ نفس العرض */
				border: 1px solid green;
				display: flex;
				justify-content: center;
				align-items: center;
				}

			.box41 { flex: 1.5; }
			.box42 { flex: 7; }
			.box43 { flex: 1.5; }

		</style>
		<div id="ui4" class= "control" style= "bottom: 5%; right: 5%;width: 65%; height:20%; display: none;" >
			<div class="container4" style= "color: blue;" >
				<div id="assistant1"  class="box40 box41" style= "font-size: 1.5vw;" >
				<img src="img/logo2.jpg" alt="taha" class= "" style="bottom: 5%; right: 5%;width: 90%; height:90%; "></div>
				<div id="assistant2" class="box40 box42" style= "font-size: 2vw;" >
				مرحبا بك عزيزي الطالب  <br>
				أنا مساعدك الذكي، سوف أساعد في إجراء التجارب في معملي الافتراضي، هيا اختر الطاولة والتجربة.
				</div>
				<div id="assistant3" class="box40 box43" style= "font-size: 1.5vw; ;">
                <!-- Programming object 8 -->
				<!-- إنشاء أزرار التالي -->
       			
		
            
                        
                    </div>
                    
                  
                    
			</div>
		</div>
 
 <!-- Programming object 8 -->
		<!--إنشاء زر إعادة المعمل -->
        <!-- 5-->
		<style>
		#ui5 {
        display: flex;
        justify-content: center; /* توسيط أفقي */
        align-items: center;     /* توسيط رأسي */
			}
		</style>

		<div id="ui5" class="control" style="top: 5%; right: 35%; width: 30%; height: 10%;">
		<a href="subject2.html" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
        <button id="next1" class="hide1"   style="width: 90%; height: 90%; color: blue; font-size: 2vw;"> المعمل الافتراضي ثلاثي الأبعاد </button>
		</a>
		</div>
  
<!-- Programming object 9 -->
	<!-- إنشاء أسهم التنقل باستخدام الماوس html -->        
        <div id="guia"   >
			<div class="box">
				<div id="gui1" ></div>
				<div id="gui2"></div>
				<div id="gui3"></div>
				<div id="gui4"></div>
			</div>
		
			<div class="box">
				<div id="gui5" ></div>
				<div id="gui6"></div>
				<div id="gui7"></div>
				<div id="gui8"></div>
			</div>
		
		</div>

        
<!-- Programming object  -->
	<!--دوال عرض أدوات التحكم -->     
		<script>

   // ======================
// المتغيرات العامة
// ======================


//متغيرات كائنات الطاولة 21
var obj2101;
var obj2102;
var obj2103;
var obj2104;
var obj2105;
var obj2106;
var obj2110;
var obj2111;
var obj2112;
var obj2113;
var obj2114;
var obj2119;
var obj2120;
var obj2121;
var obj2122;
var obj2127;
var obj2128;

//متغيرات كائنات الطاولة 22
var obj2201;
var obj2202;
var obj2203;
var obj2204;
var obj2205;
var obj2206;
var obj2207;
var obj2208;
var obj2210;
var obj2212;
var obj2216;
var obj2218;
var obj2223;
var obj2228;
var obj2230;


// ======================
// المتغيرات العامة
// ======================


//عمليات سحب حسب كود المرحلة التجربة 211
let drag21111 = null;
let drag21121 = null;
let drag21131 = null;
let drag21133 = null;
let drag21141 = null;
let drag21151 = null;

//عمليات سحب حسب كود المرحلة التجربة 212
let drag21211 = null;
let drag21213 = null;
let drag21215 = null;
let drag21217 = null;
let drag21261 = null;

//عمليات سحب حسب كود المرحلة التجربة 221
let drag22111 = null;
let drag22131 = null;

//عمليات سحب حسب كود المرحلة التجربة 222
let drag22211 = null;
let drag22213 = null;
let drag22215 = null;

//عمليات سحب حسب كود المرحلة التجربة 223
let drag22311 = null;
let drag22313 = null;
let drag22341 = null;


//مراقب الوصول حسب كود المرحلة التجربة 211
let reachObserver21111 = null;
let reachObserver21121 = null;
let reachObserver21131 = null;
let reachObserver21133 = null;
let reachObserver21141 = null;
let reachObserver21151 = null;

//مراقب الوصول حسب كود المرحلة التجربة 212
let reachObserver21211 = null;
let reachObserver21213 = null;
let reachObserver21215 = null;
let reachObserver21217 = null;
let reachObserver21261 = null;

//مراقب الوصول حسب كود المرحلة التجربة 221
let reachObserver22111 = null;
let reachObserver22131 = null;

//مراقب الوصول حسب كود المرحلة التجربة 222
let reachObserver22211 = null;
let reachObserver22213 = null;
let reachObserver22215 = null;

//مراقب الوصول حسب كود المرحلة التجربة 223
let reachObserver22311 = null;
let reachObserver22313 = null;
let reachObserver22341 = null;




//تحميل جميع الكائنات لجميع الطولات
let objectsLoaded1111 = false;

 // ======================
// دالة تحميل OBJ
// ======================
	let dragBehavior = null;   // سحب الكائن الحالي

// ----------------------------
// 3️⃣ دالة تصحيح الجذر لكل كائن
// ----------------------------
function fixRoot(root) {
    root.rotationQuaternion = null; // مهم لتحريك ودوران TransformNode
    root.setPivotPoint(BABYLON.Vector3.Zero());
}

// ----------------------------
// 4️⃣ دالة تحميل OBJ لكل كائن
// ----------------------------
async function loadOBJ1111(name, file, scene, position) {
    return new Promise((resolve, reject) => {
        BABYLON.SceneLoader.ImportMesh(
            "", 
            "models/", 
            file, 
            scene,
            (meshes) => {
                if (!meshes || meshes.length === 0) {
                    reject("لم يتم تحميل أي Mesh من الملف: " + file);
                    return;
                }

                // إنشاء TransformNode كجذر للكائن
                const root = new BABYLON.TransformNode(name + "_root", scene);

                meshes.forEach(m => {
                    m.parent = root;
                    m.isPickable = true;
                });

                root.position.copyFrom(position);

                // ✅ تصحيح الجذر مباشرة بعد التحميل لكل كائن
                fixRoot(root);

                resolve({ name, root, meshes, dragMesh: root });
            },
            null,
            (scene, error) => reject(error)
        );
    });
}
  
 ////////////    
async function  loadAllObjects1111(scene) {
		if (objectsLoaded1111) return;

		
		// جميع كائنات الطاولة 21
		obj2101 = await loadOBJ1111("obj2101", "object2101.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2102 = await loadOBJ1111("obj2102", "object2102.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2103 = await loadOBJ1111("obj2103", "object2103.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2104 = await loadOBJ1111("obj2104", "object2104.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2105 = await loadOBJ1111("obj2105", "object2105.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2106 = await loadOBJ1111("obj2106", "object2106.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2110 = await loadOBJ1111("obj2110", "object2110.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2111 = await loadOBJ1111("obj2111", "object2111.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2112 = await loadOBJ1111("obj2112", "object2112.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2113 = await loadOBJ1111("obj2113", "object2113.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2114 = await loadOBJ1111("obj2114", "object2114.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2119 = await loadOBJ1111("obj2119", "object2119.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2120 = await loadOBJ1111("obj2120", "object2120.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2121 = await loadOBJ1111("obj2121", "object2121.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2122 = await loadOBJ1111("obj2122", "object2122.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2127 = await loadOBJ1111("obj2127", "object2127.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2128 = await loadOBJ1111("obj2128", "object2128.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		
		// جميع كائنات الطاولة 22
		obj2201 = await loadOBJ1111("obj2201", "object2201.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2202 = await loadOBJ1111("obj2202", "object2202.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2203 = await loadOBJ1111("obj2203", "object2203.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2204 = await loadOBJ1111("obj2204", "object2204.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2205 = await loadOBJ1111("obj2205", "object2205.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2206 = await loadOBJ1111("obj2206", "object2206.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2207 = await loadOBJ1111("obj2207", "object2207.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2208 = await loadOBJ1111("obj2208", "object2208.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2210 = await loadOBJ1111("obj2210", "object2210.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2212 = await loadOBJ1111("obj2212", "object2212.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2216 = await loadOBJ1111("obj2216", "object2216.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2218 = await loadOBJ1111("obj2218", "object2218.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2223 = await loadOBJ1111("obj2223", "object2223.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2228 = await loadOBJ1111("obj2228", "object2228.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		obj2230 = await loadOBJ1111("obj2230", "object2230.obj", scene, new BABYLON.Vector3(13,5.5,-12.5));
		
		
		//إخفاء كائنات الطاولة 21
		obj2101.root.setEnabled(false);
		obj2102.root.setEnabled(false);
		obj2103.root.setEnabled(false);
		obj2104.root.setEnabled(false);
		obj2105.root.setEnabled(false);
		obj2106.root.setEnabled(false);
		obj2110.root.setEnabled(false);
		obj2111.root.setEnabled(false);
		obj2112.root.setEnabled(false);
		obj2113.root.setEnabled(false);
		obj2114.root.setEnabled(false);
		obj2119.root.setEnabled(false);
		obj2120.root.setEnabled(false);
		obj2121.root.setEnabled(false);
		obj2122.root.setEnabled(false);
		obj2127.root.setEnabled(false);
		obj2128.root.setEnabled(false);
		
		//إخفاء كائنات الطاولة 22
		obj2201.root.setEnabled(false);
		obj2202.root.setEnabled(false);
		obj2203.root.setEnabled(false);
		obj2204.root.setEnabled(false);
		obj2205.root.setEnabled(false);
		obj2206.root.setEnabled(false);
		obj2207.root.setEnabled(false);
		obj2208.root.setEnabled(false);
		obj2210.root.setEnabled(false);
		obj2212.root.setEnabled(false);
		obj2216.root.setEnabled(false);
		obj2218.root.setEnabled(false);
		obj2223.root.setEnabled(false);
		obj2228.root.setEnabled(false);
		obj2230.root.setEnabled(false);
		
		
		//متغير دالة التحميل
		objectsLoaded1111 = true;
	}

function hide1 (){
		
		//إخفاء كائنات الطاولة 21
		obj2101.root.setEnabled(false);
		obj2102.root.setEnabled(false);
		obj2103.root.setEnabled(false);
		obj2104.root.setEnabled(false);
		obj2105.root.setEnabled(false);
		obj2106.root.setEnabled(false);
		obj2110.root.setEnabled(false);
		obj2111.root.setEnabled(false);
		obj2112.root.setEnabled(false);
		obj2113.root.setEnabled(false);
		obj2114.root.setEnabled(false);
		obj2119.root.setEnabled(false);
		obj2120.root.setEnabled(false);
		obj2121.root.setEnabled(false);
		obj2122.root.setEnabled(false);
		obj2127.root.setEnabled(false);
		obj2128.root.setEnabled(false);
		
		//إخفاء كائنات الطاولة 22
		obj2201.root.setEnabled(false);
		obj2202.root.setEnabled(false);
		obj2203.root.setEnabled(false);
		obj2204.root.setEnabled(false);
		obj2205.root.setEnabled(false);
		obj2206.root.setEnabled(false);
		obj2207.root.setEnabled(false);
		obj2208.root.setEnabled(false);
		obj2210.root.setEnabled(false);
		obj2212.root.setEnabled(false);
		obj2216.root.setEnabled(false);
		obj2218.root.setEnabled(false);
		obj2223.root.setEnabled(false);
		obj2228.root.setEnabled(false);
		obj2230.root.setEnabled(false);
		
		
	
};
             
                
 const btn1 = document.getElementById("ui11");
const box1 = document.getElementById("ui2");

btn1.addEventListener("click", () => {
    box1.style.display = (box1.style.display === "none") ? "block" : "none";
});

                
        const btn2 = document.getElementById("ui12");
const box2 = document.getElementById("ui3");

btn2.addEventListener("click", () => {
    box2.style.display = (box2.style.display === "none") ? "block" : "none";
        loadAllObjects1111(scene);
});

 
                       const btn3 = document.getElementById("ui13");
const box3 = document.getElementById("ui4");

btn3.addEventListener("click", () => {
    box3.style.display = (box3.style.display === "none") ? "block" : "none";
});
                
  
                        const btn4 = document.getElementById("ui14");
const box4 = document.getElementById("guia");

btn4.addEventListener("click", () => {
    box4.style.display = (box4.style.display === "none") ? "block" : "none";
});
              

  
                              
        </script> 
 
        
 
<!-- Programming object  -->
	<!--التحكم في عرض تجارب الطاولات -->     
		<script>

       const btn31 = document.getElementById("table1");
		const box31 = document.getElementById("ui31");
		btn31.addEventListener("click", () => {
		box31.style.display = (box31.style.display === "none") ? "block" : "none";
		document.getElementById("ui32").style.display= "none";
		
		});
		
		const btn32 = document.getElementById("table2");
		const box32 = document.getElementById("ui32");
		btn32.addEventListener("click", () => {
		box32.style.display = (box32.style.display === "none") ? "block" : "none";
		document.getElementById("ui31").style.display= "none";
		
		});
		
		

     
</script> 
        
        
        
        
<script>
//Programming object 10
	//إنشاء متغيرات التحكم في الكاميرا والتعليقات الصوتية
        //متغير عام للتحكم فى الكاميرا
			//متغيرات الكاميرا العامة              
    	var camX = 0;
		var camZ = -99;
		var cameraLocked = false;
        var cameraLocked2 = false;
        var cameraLocked3 = false;
        var cameraLocked4 = false;
		
		// متغيرات التحكم فى أنتاج التعليقات داخل القاعة
			var px =0;
			var pz=-105;


		
				
 
//Programming object 12
	//إنشاء المحرك وربطه بقماشة الرسم    
		var canvas = document.getElementById("renderCanvas");
		var engine = new BABYLON.Engine(canvas, true);


//Programming object 13
	//إنشاء متغيرات الكائن المحدد الحالي
		let selectedObject = null; // الكائن المحدد حاليًا
        
//Programming object 14
	//إنشاء المشهد     
		var createScene = function () {
		var scene = new BABYLON.Scene(engine);

		
//Programming object 15
	// تفعيل نظام التصادم
    	scene.collisionsEnabled = true;

                   // 1️⃣ إنشاء HighlightLayer للتلوين
// ----------------------------
const highlightLayer = new BABYLON.HighlightLayer("hl1", scene);
                

//Programming object 16
	// إنشاء الكاميرا
        var camera = new BABYLON.FreeCamera("camera1", new BABYLON.Vector3(0, 5, -10), scene);
			camera.inputs.clear();
			camera.position.x = camX;
			camera.position.y = 8;
			camera.position.z = camZ;
			camera.setTarget(new BABYLON.Vector3(0, 8, 0));
			camera.attachControl(canvas, true);   


//Programming object 17
	//إنشاء الإضاءة
        // إنشاء الإضاءة 1
            var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 30, 0), scene);
			   	light.intensity = 1.5;
				
		// إنشاء الإضاءة 2
			
          	var light2 = new BABYLON.DirectionalLight("light3", new BABYLON.Vector3(0, 100, 0), scene);
				light2.intensity = 1.5;
				

//Programming object 18
	//إنشاء الأرضية	
             
            var ground = BABYLON.MeshBuilder.CreateGround("ground", { height: 230, width: 70, subdivisions: 4 }, scene);
            var groundMaterial = new BABYLON.StandardMaterial("groundMaterial", scene);
				groundMaterial.diffuseTexture = new BABYLON.Texture("img/wood.jpg", scene);
				groundMaterial.diffuseTexture.uScale = 30;
				groundMaterial.diffuseTexture.vScale = 30;
				groundMaterial.specularColor = new BABYLON.Color3(.1, .1, .1);
				ground.material = groundMaterial;
				ground.isPickable = false;

           


 
				
/////////////////////////////////////////     



//////////////////////
//Programming object 
	//إنشاء متغيرات الرسائل
			
		//إنشاء متغيرات التجربة 211
			var messages21120 = "عزيزي التلميذ أهلا ومرحباً بك على طاولة تأثير مساحة السطح وتركيز المتفاعلات.";
			var messages21121 = "التجربة الأولي " + "<br>" + " تأثير مساحة السطح على سرعة التفاعل. ";
			var messages21122 = "1- ضع في أحد الدورقين قطعة حديد.";
			var messages21123 = "2- ضع في الدورق الأخر برادة الحديد.";
			var messages21124 = "3- أضف إلي الدورقين حجمين متساويين من حمض الهيدروكلوريك.";
			var messages21125 = "4- في الحالة الأولى نلاحظ تصاعد فقاعات قليله وتتحرك السرنجة للخلف جزء صغير.";
			var messages21126 = "5- في الحالة الثانية تلاحظ تصاعد فقاعات كثيرة وتتحرك السرنجة للخلف جزء أكبر.";
			var messages21127 = "الاستنتاج:";
			var messages21128 = "1- معدل تفاعل حمض الهيدروكلوريك مع برادة الحديد أسرع مما في حالة قطعة حديد.";
			var messages21129 = "2- مساحة سطح برادة الحديد المعرض للتفاعل مع الحمض أكبر من مساحة سطح قطعة الحديد، لذلك ينتهي التفاعل في حالة برادة الحديد في زمن أقل من قطعة الحديد.";
			var messages21130 = "3- تزداد سرعة التفاعل الكيميائي بزيادة مساحة سطح المواد المتفاعلة المعرض للتفاعل.";
			var messages21131 = "معادلة التفاعل: " + "<br>" + " Fe + 2HCl → FeCl₂ + H₂ ↑ ";
			var messages21132 = "عزيزي الطالب قُم بالضغط على زر ب- تأثير تركيز المتفاعلات على سرعة التفاعل الكيميائي لعرض التجربة الثانية، أو زر عودة لإعادة التجربة.";
			
			
		//إنشاء متغيرات التجربة 212
			var messages21221 = "التجربة الثانية " + "<br>" + " تأثير تركيز المتفاعلات على سرعة التفاعل الكيميائي. ";
			var messages21222 = "1- ضع شريط ماغنسيوم في الدورق الأول.";
			var messages21223 = "2- ضع شريط الماغنسيوم الثاني في الدورق الثاني.";
			var messages21224 = "3- أضف إلى الدورق الأول كمية من حمض الهيدروكلوريك المخفف.";
			var messages21225 = "4- أضف إلى الدورق الثاني كمية متساوية من حمض الهيدروكلوريك المركز.";
			var messages21226 = "5- في الدورق الأول تلاحظ تصاعد فقاعات قليلة وتتحرك السرنجة للخلف جزء صغير.";
			var messages21227 = "6- في الدورق الثاني تلاحظ تصاعد فقاعات كثيرة وتتحرك السرنجة للخلف جزء كبير.";
			var messages21228 = "الاستنتاج:";
			var messages21229 = "1- عدد الفقاعات المتصاعدة في حالة استخدام الحمض المركز أكبر مما في حالة استخدام الحمض المخفف.";
			var messages21230 = "2- معدل تفاعل الماغنسيوم مع حمض الهيدروكلوريك المركز أسرع مما في حالة الحمض المخفف.";
			var messages21231 = "3- عدد جزيئات الحمض المركز أكبر من عددها في الحمض المخفف ، وهو ما يؤدى إلى زيادة عدد التصادمات بين الجزيئات المتفاعلة فتزداد سرعة التفاعل.";
			var messages21232 = "4- تزداد سرعة التفاعل الكيميائي بزيادة تركيز المواد المتفاعلة. " + "<br>" + " معادلة التفاعل: " + "<br>" + " Mg + 2HCl → MgCl₂ + H₂ ↑ ";
			var messages21233 = "عزيزي الطالب قُم بالضغط على زر اكتشف تأثير كل من درجة الحرارة والعامل الحفاز والإنزيمات على سرعة التفاعل الكيميائي تجارب الطاولة الثانية، أو زر عودة لإعادة التجربة.";
				
			
		//إنشاء متغيرات التجربة 221
			var messages22120 = "عزيزي التلميذ أهلا ومرحباً بك على طاولة تأثير كل من درجة الحرارة والعامل الحفاز والإنزيمات على سرعة التفاعل الكيميائي.";
			var messages22121 = "التجربة الأولى " + "<br>" + " تأثير درجة الحرارة على سرعة التفاعل الكيميائي ";
			var messages22122 = "1- ضع في الكأس الذى به الماء الساخن قرص الفوار.";
			var messages22123 = "2- تلاحظ فوران القرص بسرعة.";
			var messages22124 = "3- ضع قرص الفوار الأخر في الكأس الذى به الماء البارد.";
			var messages22125 = "4- تلاحظ فوران القرص ولكن أقل من الأول.";
			var messages22126 = "الاستنتاج:";
			var messages22127 = "1- الفوران الحادث في حالة الماء الساخن أسرع مما في حالة الماء البارد.";
			var messages22128 = "2- سرعة الجزيئات المتفاعلة في حالة الماء الساخن أكبر من سرعتها في حالة الماء البارد وهو ما يؤدى إلى زيادة عدد التصادمات المحتملة بين الجزيئات فتزداد سرعة التفاعل الكيميائي.";
			var messages22129 = "3- تزداد سرعة التفاعل الكيميائي بزيادة درجة حرارة التفاعل.";
			var messages22130 = "عزيزي الطالب قُم بالضغط على زر ب- اكتشف أثر العامل الحفاز على سرعة التفاعل الكيميائي لعرض التجربة الثانية، أو زر عودة لإعادة التجربة.";
		
			
			
		//إنشاء متغيرات التجربة 222
			var messages22221 = "التجربة الثانية " + "<br>" + " تأثير العامل الحفاز على سرعة التفاعل الكيميائي ";
			var messages22222 = "1- ضع فوق أكسيد الهيدروجين في الأنبوبتين.";
			var messages22223 = "2- اضف إلي إحدى الأنبوبتين مقدار صغير من مسحوق ثاني أكسيد المنجنيز.";
			var messages22224 = "3- تلاحظ حدوث تفاعل وتتصاعد فقاعات كثيرة في الأنبوبة التي بها مسحوق ثاني أكسيد المنجنيز.";
			var messages22225 = "الاستنتاج:";
			var messages22226 = "1- يزداد عدد الفقاعات الغازية المتصاعدة في الأنبوبة المحتوية على مسحوق ثاني أكسيد المنجنيز بالمقارنة بالأنبوبة الأخرى. ";
			var messages22227 = "2- يعمل ثاني أكسيد المنجنيز كعامل حفاز يزيد من سرعة تفكك فوق أكسيد الهيدروجين إلى ماء وغاز الأكسجين الذى يتصاعد على هيئة فقاعات.";
			var messages22228 = "3- تزداد سرعة التفاعل الكيميائي بإضافة عامل حفاز. " + "<br>" + " معادلة التفاعل: " + "<br>" + " H₂O₂   →      H₂O + O₂ ";
			var messages22229 = "عزيزي الطالب قُم بالضغط على ج- اكتشف تأثير الانزيمات على سرعة التفاعل الكيميائي لعرض التجربة الثالثة، أو زر عودة لإعادة التجربة.";
			
			
		//إنشاء متغيرات التجربة 223
			var messages22321 = "التجربة الثالثة " + "<br>" + " تأثير الإنزيمات على سرعة التفاعل الكيميائي ";
			var messages22322 = "1- ضع فوق أكسيد الهيدروجين في الكأس.";
			var messages22323 = "2- اضف قطعة البطاطا في الكأس.";
			var messages22324 = "3- تلاحظ تصاعد فقاعات عند إضافة قطعة البطاطا.";
			var messages22325 = "4- قارن بين عدد الفقاعات المتصاعدة قبل وبعد إضافة قطعة البطاطا.";
			var messages22326 = "الاستنتاج:";
			var messages22327 = "1- زيادة عدد الفقاعات عند إضافة قطعة البطاطا إلى فوق أكسيد الهيدروجين.";
			var messages22328 = "2- تحتوى البطاطا على إنزيم الأوكسيديز الذى يزيد من سرعة تفكك فوق أكسيد الهيدروجين إلى ماء وغاز الأكسجين.";
			var messages22329 = "3- تزداد سرعة التفاعل الكيميائي بإضافة إنزيم. " + "<br>" + " معادلة التفاعل: " + "<br>" + " H₂O₂       →     H₂O + O₂ ";
			var messages22330 = "عزيزي الطالب قُم بالضغط على زر عودة لإعادة التجربة، أو إلى اللقاء.";
                
<!-- Programming object 8 -->
	<!-- إنشاء أزرار التالي -->
       	
		 <!-- إنشاء أزرار التالي للتجربة 211-->
			var button21101= '<button id="next21101" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21102= '<button id="next21102" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21103= '<button id="next21103" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21104= '<button id="next21104" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21105= '<button id="next21105" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21106= '<button id="next21106" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21107= '<button id="next21107" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21108= '<button id="next21108" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21109= '<button id="next21109" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21110= '<button id="next21110" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21111= '<button id="next21111" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21112= '<button id="next21112" class= "hide1" style= "width: 80%; height:80%; color: blue;font-size: 2vw; display: none; " >إعادة التجربة</button> ';
        
		
		<!-- إنشاء أزرار التالي للتجربة 212-->
			var button21201= '<button id="next21201" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21202= '<button id="next21202" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21203= '<button id="next21203" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21204= '<button id="next21204" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21205= '<button id="next21205" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21206= '<button id="next21206" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21207= '<button id="next21207" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21208= '<button id="next21208" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21209= '<button id="next21209" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21210= '<button id="next21210" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21211= '<button id="next21211" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button21212= '<button id="next21212" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button21213= '<button id="next21213" class= "hide1" style= "width: 80%; height:80%; color: blue;font-size: 2vw; display: none; " >إعادة التجربة</button> ';
      
	  
		<!-- إنشاء أزرار التالي للتجربة 221-->
			var button22101= '<button id="next22101" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22102= '<button id="next22102" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22103= '<button id="next22103" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22104= '<button id="next22104" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button22105= '<button id="next22105" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22106= '<button id="next22106" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22107= '<button id="next22107" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22108= '<button id="next22108" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button22109= '<button id="next22109" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22110= '<button id="next22110" class= "hide1" style= "width: 80%; height:80%; color: blue;font-size: 2vw; display: none; " >إعادة التجربة</button> ';
		
		
		<!-- إنشاء أزرار التالي للتجربة 222-->
			var button22201= '<button id="next22201" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22202= '<button id="next22202" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22203= '<button id="next22203" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22204= '<button id="next22204" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button22205= '<button id="next22205" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22206= '<button id="next22206" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22207= '<button id="next22207" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22208= '<button id="next22208" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button22209= '<button id="next22209" class= "hide1" style= "width: 80%; height:80%; color: blue;font-size: 2vw; display: none; " >إعادة التجربة</button> ';
         
	
		<!-- إنشاء أزرار التالي للتجربة 223-->
			var button22301= '<button id="next22301" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22302= '<button id="next22302" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22303= '<button id="next22303" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22304= '<button id="next22304" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button22305= '<button id="next22305" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22306= '<button id="next22306" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22307= '<button id="next22307" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22308= '<button id="next22308" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
			var button22309= '<button id="next22309" class= "hide1" style= "width: 80%; height:50%; color: blue;font-size: 2vw; display: none; " >التالي</button> ';
            var button22310= '<button id="next22310" class= "hide1" style= "width: 80%; height:80%; color: blue;font-size: 2vw; display: none; " >إعادة التجربة</button> ';


              
                
///////////////////

/////////////////////
                
//Programming object 
	//إنشاء دوال الاستجابات
		
			
      //الاستجابة رقم 21
                //الحصول على زر تشغيل الاستجابة
				document.getElementById("table1").addEventListener("click", () => {
				document.getElementById("assistant2").innerHTML= "" ;
				document.getElementById("assistant2").innerHTML= messages21120 ;
				
                camera.position.x = 10;
				camera.position.z = -30;       
                camX = 10;
                camZ = -30 ;
				camera.setTarget(new BABYLON.Vector3(10, 8, 0));
				document.getElementById("assistant3").innerHTML= "" ;
				hide1 ();  
				 
				}); 
				
				
	//الاستجابة رقم 22
                //الحصول على زر تشغيل الاستجابة
				document.getElementById("table2").addEventListener("click", () => {
				document.getElementById("assistant2").innerHTML= "" ;
				document.getElementById("assistant2").innerHTML= messages22120 ;
				
                camera.position.x = -10;
				camera.position.z = -30;       
                camX = -10;
                camZ = -30 ;
				camera.setTarget(new BABYLON.Vector3(-10, 8, 0));
				document.getElementById("assistant3").innerHTML= "" ;
				hide1 ();  
				 
				}); 
				

	
                
///////////////////	
	//استجابات أزرار تجارب الطاولة 21
	//دالة موحدة لتحريك الكاميرا
	function moveCamera(x, z, target) {
		camX = x;
		camZ = z;

		camera.position.x = x;
		camera.position.z = z;
		camera.setTarget(target);
		}

	//لتحكم بالكاميرا داخل الـ render loop
	scene.onBeforeRenderObservable.add(() => {
		if (!cameraLocked) {
			camera.position.x = camX;
			camera.position.z = camZ;
		}
		});

	document.addEventListener("click", (e) => {

    if (e.target.id === "response211") {
            hide1 ();  
        handleResponse211();
    }

    if (e.target.id === "response212") {
            hide1 ();  
        handleResponse212();
    }

	
	});

	function handleResponse211() {
		document.getElementById("assistant2").innerHTML = messages21121;
		showButtons211();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}

	
	function handleResponse212() {
		document.getElementById("assistant2").innerHTML = messages21221;
            
		showButtons212();
        
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}

	
	
	function showButtons211() {
		document.getElementById("assistant3").innerHTML = button21101 ;
		var n211 = document.getElementById("next21101");
		if (n211) n211.style.display = "block";
		}

    function showButtons212() {
		document.getElementById("assistant3").innerHTML = button21201 ;
		var n212 = document.getElementById("next21201");
		if (n212) n212.style.display = "block";
		}  ;

	  
               
////////////////////
//استجابات أزرار تجارب الطاولة 22
	//دالة موحدة لتحريك الكاميرا
	function moveCamera2(x, z, target) {
		camX = x;
		camZ = z;

		camera.position.x = x;
		camera.position.z = z;
		camera.setTarget(target);
		}

	//لتحكم بالكاميرا داخل الـ render loop
	scene.onBeforeRenderObservable.add(() => {
		if (!cameraLocked2) {
			camera.position.x = camX;
			camera.position.z = camZ;
		}
		});

	document.addEventListener("click", (e) => {

    if (e.target.id === "response221") {
            hide1 ();  
        handleResponse221();
    }

    if (e.target.id === "response222") {
            hide1 ();  
        handleResponse222();
    }

	if (e.target.id === "response223") {
            hide1 ();  
        handleResponse223();
    }
	
	
	});

	function handleResponse221() {
		document.getElementById("assistant2").innerHTML = messages22121;
		showButtons221();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}

	
	function handleResponse222() {
		document.getElementById("assistant2").innerHTML = messages22221;
		showButtons222();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}

	function handleResponse223() {
		document.getElementById("assistant2").innerHTML = messages22321;
		showButtons223();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	
	function showButtons221() {
		document.getElementById("assistant3").innerHTML = button22101 ;
		var n221 = document.getElementById("next22101");
		if (n221) n221.style.display = "block";
		}

    function showButtons222() {
		document.getElementById("assistant3").innerHTML = button22201 ;
		var n222 = document.getElementById("next22201");
		if (n222) n222.style.display = "block";
		}  ;

	function showButtons223() {
		document.getElementById("assistant3").innerHTML = button22301 ;
		var n223 = document.getElementById("next22301");
		if (n223) n223.style.display = "block";
		}



       
////////////////////////
	//دوال على مستوى جميع تجارب الطاولة 21
//دالة موحدة لتحريك الكاميرا
                //دالة موحدة لتحريك الكاميرا
	function moveCamera(x, z, target) {
		camX = x;
		camZ = z;

		camera.position.x = x;
		camera.position.z = z;
		camera.setTarget(target);
		}

	//لتحكم بالكاميرا داخل الـ render loop
	scene.onBeforeRenderObservable.add(() => {
		if (!cameraLocked) {
			camera.position.x = camX;
			camera.position.z = camZ;
		}
		});
                
// 5️⃣ دالة إنشاء سحب للكائن
// ----------------------------
function createDrag1111(root) {
    const drag = new BABYLON.PointerDragBehavior({
        dragPlaneNormal: BABYLON.Vector3.Up()
    });
    drag.enabled = false;

    // السحب على TransformNode مباشرة
    root.addBehavior(drag);

    return drag;
}
         
  
   /////////////////////////////
//استجابات أزرار تجربة 211
   
//الاستجابة رقم 2111

// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21111() {
	//اخفاء كائن إعادة التجربة
	obj2120.root.setEnabled(false);
	//الكائن المسحوب
    drag21111 = createDrag1111(obj2104.dragMesh, obj2104.root);
	//الكائنات الثلاثة أو الأربعة
	obj2104.root.position.set(13,5.5,-12.5);
	obj2101.root.position.set(7,5.5,-12.5);
	obj2113.root.position.set(7,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2104.root.setEnabled(true);
    obj2101.root.setEnabled(true);
	//الكائن المسحوب
    drag21111.enabled = true;
	//الكائن المسحوب
    if (reachObserver21111) {obj2104.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21111);}
    reachObserver21111 = obj2104.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2104.root.position,
                obj2101.root.position
            );
    if (d < 0.8) {
				document.getElementById("assistant3").innerHTML = button21102 ;
				var n11101 = document.getElementById("next21102");
				if (n11101) n11101.style.display = "block";
				//الكائن المسحوب
                obj2104.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21111);
                //الكائن المسحوب
				reachObserver21111 = null;
				//الكائن المسحوب
                drag21111.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2104.root.setEnabled(false);
                obj2101.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2113.root.setEnabled(true);
				
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
               
            };        });		};


//////
//الاستجابة رقم 2112
 
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21121() {
	//اخفاء كائن الخطوة السابقة
	 obj2113.root.setEnabled(false);
	//الكائن المسحوب
    drag21121 = createDrag1111(obj2105.dragMesh, obj2105.root);
	//الكائنات الثلاثة أو الأربعة
	obj2105.root.position.set(13,5.5,-12.5);
	obj2102.root.position.set(7,5.5,-12.5);
	obj2114.root.position.set(7,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2105.root.setEnabled(true);
    obj2102.root.setEnabled(true);
	//الكائن المسحوب
    drag21121.enabled = true;
	//الكائن المسحوب
    if (reachObserver21121) {obj2105.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21121);}
    reachObserver21121 = obj2105.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2105.root.position,
                obj2102.root.position
            );
    if (d < 0.8) {
		
				//إظهار زر الخطوة التالية
				document.getElementById("assistant3").innerHTML = button21103 ;
				var n11101 = document.getElementById("next21103");
				if (n11101) n11101.style.display = "block";
				//الكائن المسحوب
                obj2105.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21121);
                //الكائن المسحوب
				reachObserver21121 = null;
				//الكائن المسحوب
                drag21121.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2105.root.setEnabled(false);
                obj2102.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2114.root.setEnabled(true);
				
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
               
            };        });		};

//الاستجابة رقم 2113
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21131() {
	//اخفاء كائن إعادة التجربة
	obj2114.root.setEnabled(false);
	//الكائن المسحوب
    drag21131 = createDrag1111(obj2103.dragMesh, obj2103.root);
	//الكائنات الثلاثة أو الأربعة
	obj2103.root.position.set(13,5.5,-12.5);
	obj2113.root.position.set(7,5.5,-12.5);
	obj2103.root.position.set(13,5.5,-12.5);
	obj2114.root.position.set(7,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2103.root.setEnabled(true);
    obj2113.root.setEnabled(true);
	//الكائن المسحوب
    drag21131.enabled = true;
	//الكائن المسحوب
    if (reachObserver21131) {obj2103.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21131);}
    reachObserver21131 = obj2103.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2103.root.position,
                obj2113.root.position
            );
    if (d < 0.8) {
				//الكائن المسحوب
                obj2103.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21131);
                //الكائن المسحوب
				reachObserver21131 = null;
				//الكائن المسحوب
                drag21131.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2103.root.setEnabled(false);
                obj2113.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2103.root.setEnabled(true);
				obj2114.root.setEnabled(true);
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
                startPhase21132();
            };        });		};


// ======================
// المرحلة الثانية: سحب obj11114 على obj11115 → يظهر obj11116
// ======================
function startPhase21132() {
	//الكائن المسحوب
    drag21133 = createDrag1111(obj2103.dragMesh, obj2103.root);
	obj2103.root.position.set(13,5.5,-12.5);
	obj2114.root.position.set(7,5.5,-12.5);
	obj2120.root.position.set(7,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2103.root.setEnabled(true);
    obj2114.root.setEnabled(true);
	//الكائن المسحوب
    drag21133.enabled = true;
	//الكائن المسحوب
    if (reachObserver21133) { obj2103.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21133); }
    reachObserver21133 = obj2103.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2103.root.position,
                obj2114.root.position
            );

    if (d < 0.8) { 
				document.getElementById("assistant3").innerHTML = button21104 ;
				var n11101 = document.getElementById("next21104");
				if (n11101) n11101.style.display = "block";
				//الكائن المسحوب
				obj2103.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21133);
                //الكائن المسحوب
				reachObserver21133 = null;
                //الكائن المسحوب
				drag21133.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2103.root.setEnabled(false);
                obj2114.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2120.root.setEnabled(true);
			
				
                console.log("✔ المرحلة الثانية انتهت");
                // 🔥 تشغيل المرحلة الثالثة
              
            };        }); 	};

//الاستجابة رقم 2114
 
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21141() {
	//اخفاء كائن الخطوة السابقة
	 obj2120.root.setEnabled(false);
	
	//الكائنات الثلاثة أو الأربعة
	obj2119.root.position.set(7,5.5,-12.5);
	obj2120.root.position.set(7,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2119.root.setEnabled(true);
   
   //رسالة بعد سحب المرحلة الثانية
	document.getElementById("assistant2").innerHTML = messages21125;
	//إظهار زر الخطوة التالية
	document.getElementById("assistant3").innerHTML = button21105 ;
	var n11101 = document.getElementById("next21105");
	if (n11101) n11101.style.display = "block";
				
			};

//الاستجابة رقم 2115
 
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21151() {
	//اخفاء كائن الخطوة السابقة
	 obj2119.root.setEnabled(false);
	
	//الكائنات الثلاثة أو الأربعة
	obj2120.root.position.set(7,5.5,-12.5);
	obj2119.root.position.set(7,5.5,-12.5);

	
	//الكائن المسحوب والمسحوب عليه
    obj2120.root.setEnabled(true);
   
	//رسالة بعد سحب المرحلة الثانية
	document.getElementById("assistant2").innerHTML = messages21126;
	//إظهار زر الخطوة التالية
	document.getElementById("assistant3").innerHTML = button21106 ;
	var n11101 = document.getElementById("next21106");
	if (n11101) n11101.style.display = "block";
	
			};			
// ======================
// الزر الرئيسي لتشغيل المراحل
// ======================
document.addEventListener("click", (e) => {

    if (e.target.id === "next21101") {
		document.getElementById("assistant3").innerHTML = button21101 ;
		var n11101 = document.getElementById("next21101");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21111();
        handleResponse21101();
    }
	
	if (e.target.id === "next21102") {
		document.getElementById("assistant3").innerHTML = button21102 ;
		var n11101 = document.getElementById("next21102");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21121();
        handleResponse21102();
    }
	
	if (e.target.id === "next21103") {
		document.getElementById("assistant3").innerHTML = button21103 ;
		var n11101 = document.getElementById("next21103");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21131();
		
        handleResponse21103();
    }
	
    if (e.target.id === "next21104") {
		document.getElementById("assistant3").innerHTML = button21104 ;
		var n11101 = document.getElementById("next21104");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21141();
        handleResponse21104();
    }
	
	if (e.target.id === "next21105") {
		document.getElementById("assistant3").innerHTML = button21105 ;
		var n11101 = document.getElementById("next21105");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21151();
        handleResponse21105();
    }
	
	if (e.target.id === "next21106") {
        handleResponse21106();
    }
	
	if (e.target.id === "next21107") {
        handleResponse21107();
    }
	
	if (e.target.id === "next21108") {
        handleResponse21108();
    }
	
	if (e.target.id === "next21109") {
        handleResponse21109();
    }
	
	if (e.target.id === "next21110") {
        handleResponse21110();
    }
	
	if (e.target.id === "next21111") {
        handleResponse21111();
    }
	
	if (e.target.id === "next21112") {
        handleResponse21112();
    }
	});

	function handleResponse21101() {
		document.getElementById("assistant2").innerHTML = messages21122;
		showButtons21101();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}

	function handleResponse21102() {
		document.getElementById("assistant2").innerHTML = messages21123;
        showButtons21102();
        moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
		
	}
	
	function handleResponse21103() {
		document.getElementById("assistant2").innerHTML = messages21124;
        showButtons21103();
        moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
		
	}
	
	function handleResponse21104() {
		document.getElementById("assistant2").innerHTML = messages21125;
        showButtons21104();
        moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
		
	}

	function handleResponse21105() {
		document.getElementById("assistant2").innerHTML = messages21126;
        showButtons21105();
        moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
		
	}
	
	function handleResponse21106() {
		document.getElementById("assistant2").innerHTML = messages21127;
		showButtons21106();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21107() {
		document.getElementById("assistant2").innerHTML = messages21128;
		showButtons21107();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21108() {
		document.getElementById("assistant2").innerHTML = messages21129;
		showButtons21108();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21109() {
		document.getElementById("assistant2").innerHTML = messages21130;
		showButtons21109();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21110() {
		document.getElementById("assistant2").innerHTML = messages21131;
		showButtons21110();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21111() {
		document.getElementById("assistant2").innerHTML = messages21132;
		showButtons21111();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21112() {
		document.getElementById("assistant2").innerHTML = messages21121;
		showButtons21112();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	
	
	function showButtons21101() {
		
		}
	
	function showButtons21102() {
	
		}  ;
	
	function showButtons21103() {
	
		}  ;
		
    function showButtons21104() {
	
		}  ;
	
	function showButtons21105() {
	
		}  ;

	function showButtons21106() {
		document.getElementById("assistant3").innerHTML = button21107 ;
		var n21106 = document.getElementById("next21107");
		if (n21106) n21106.style.display = "block";
		}  
		
	function showButtons21107() {
		document.getElementById("assistant3").innerHTML = button21108 ;
		var n21107 = document.getElementById("next21108");
		if (n21107) n21107.style.display = "block";
		}  
		
	function showButtons21108() {
		document.getElementById("assistant3").innerHTML = button21109 ;
		var n21108 = document.getElementById("next21109");
		if (n21108) n21108.style.display = "block";
		} 
	
	function showButtons21109() {
		document.getElementById("assistant3").innerHTML = button21110 ;
		var n21109 = document.getElementById("next21110");
		if (n21109) n21109.style.display = "block";
		} 

	function showButtons21110() {
		document.getElementById("assistant3").innerHTML = button21111 ;
		var n21110 = document.getElementById("next21111");
		if (n21110) n21110.style.display = "block";
		} 
		
	function showButtons21111() {
		document.getElementById("assistant3").innerHTML = button21112 ;
		var n21111 = document.getElementById("next21112");
		if (n21111) n21111.style.display = "block";
		}
		
	function showButtons21112() {
		document.getElementById("assistant3").innerHTML = button21101 ;
		var n21112 = document.getElementById("next21101");
		if (n21112) n21112.style.display = "block";
		}

                
                
                
                
/////////////////////////
//استجابات أزرار تجربة 212
   
//استجابة رقم 2121

// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21211() {
	//اخفاء كائن إعادة التجربة
	obj2128.root.setEnabled(false);
	//الكائن المسحوب
    drag21211 = createDrag1111(obj2106.dragMesh, obj2106.root);
	//الكائنات الثلاثة أو الأربعة
	obj2106.root.position.set(13,5.5,-12.5);
	obj2101.root.position.set(7,5.5,-12.5);
	obj2110.root.position.set(13,5.5,-12.5);
	obj2102.root.position.set(7,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2106.root.setEnabled(true);
    obj2101.root.setEnabled(true);
	//الكائن المسحوب
    drag21211.enabled = true;
	//الكائن المسحوب
    if (reachObserver21211) {obj2106.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21211);}
    reachObserver21121 = obj2106.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2106.root.position,
                obj2101.root.position
            );
    if (d < 0.8) {
				document.getElementById("assistant2").innerHTML = messages21223;
				//الكائن المسحوب
                obj2106.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21211);
                //الكائن المسحوب
				reachObserver21211 = null;
				//الكائن المسحوب
                drag21211.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2106.root.setEnabled(false);
                obj2101.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2110.root.setEnabled(true);
				obj2102.root.setEnabled(true);
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
                startPhase21212();
            };        });		};


// ======================
// المرحلة الثانية: سحب obj11114 على obj11115 → يظهر obj11116
// ======================
function startPhase21212() {
	//الكائن المسحوب
    drag21213 = createDrag1111(obj2110.dragMesh, obj2110.root);
	obj2110.root.position.set(13,5.5,-12.5);
	obj2102.root.position.set(7,5.5,-12.5);
	obj2111.root.position.set(13,5.5,-12.5);
	obj2121.root.position.set(7,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2110.root.setEnabled(true);
    obj2102.root.setEnabled(true);
	//الكائن المسحوب
    drag21213.enabled = true;
	//الكائن المسحوب
    if (reachObserver21213) { obj2110.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21213); }
    reachObserver21213 = obj2110.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2110.root.position,
                obj2102.root.position
            );

    if (d < 0.8) { 
				//الكائن المسحوب
				obj2110.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21213);
                //الكائن المسحوب
				reachObserver11113 = null;
                //الكائن المسحوب
				drag21213.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2110.root.setEnabled(false);
                obj2102.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2111.root.setEnabled(true);
				obj2121.root.setEnabled(true);
				//عرض رسالة
				document.getElementById("assistant2").innerHTML = messages21224;
                console.log("✔ المرحلة الثانية انتهت");
                // 🔥 تشغيل المرحلة الثالثة
                startPhase21213();
            };        }); 	};
// ======================
// المرحلة الثالثة: سحب obj11117 على obj11118 → يظهر obj11119
// ======================
function startPhase21213() {
	//الكائن المسحوب
    drag21215 = createDrag1111(obj2111.dragMesh, obj2111.root);
	//الكائنات الثلاثة أو الأربعة
	obj2111.root.position.set(13,5.5,-12.5);
	obj2121.root.position.set(7,5.5,-12.5);
	obj2112.root.position.set(13,5.5,-12.5);
	obj2122.root.position.set(7,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2111.root.setEnabled(true);
    obj2121.root.setEnabled(true);
	//الكان المسحوب
    drag21215.enabled = true;
	//الكان المسحوب
    if (reachObserver21215) { obj2111.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21215);}
	reachObserver21215 = obj2111.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2111.root.position,
                obj2121.root.position
            );

    if (d < 0.8) {
				//رسالة بعد سحب المرحلة الثانية
				document.getElementById("assistant2").innerHTML = messages21225;
				
				//الكائن المسحوب
                obj2111.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21215);
				//الكائن المسحوب
                reachObserver21215 = null;
				//الكائن المسحوب
                drag21215.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2111.root.setEnabled(false);
                obj2121.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2112.root.setEnabled(true);
				obj2122.root.setEnabled(true);
				 
                console.log("🏁 المرحلة الثالثة انتهت – السيناريو اكتمل");
				// 🔥 تشغيل المرحلة الرابعة
                startPhase21214();
            } ;        }); };

// ======================
//سحب المرحلة الرابعة
// ======================
function startPhase21214() {
	//الكائن المسحوب
    drag21217 = createDrag1111(obj2112.dragMesh, obj2112.root);
	//الكائنات الثلاثة أو الأربعة
	obj2112.root.position.set(13,5.5,-12.5);
	obj2122.root.position.set(7,5.5,-12.5);
	obj2127.root.position.set(7,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2112.root.setEnabled(true);
    obj2122.root.setEnabled(true);
	//الكان المسحوب
    drag21217.enabled = true;
	//الكان المسحوب
    if (reachObserver21217) { obj2112.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21217);}
	reachObserver21217 = obj2112.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2112.root.position,
                obj2122.root.position
            );

    if (d < 0.8) {
				//رسالة بعد سحب المرحلة الثانية
				document.getElementById("assistant2").innerHTML = messages21226;
				document.getElementById("assistant3").innerHTML = button21206 ;
				var n11101 = document.getElementById("next21206");
				if (n11101) n11101.style.display = "block";
				//الكائن المسحوب
                obj2112.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver21217);
				//الكائن المسحوب
                reachObserver21215 = null;
				//الكائن المسحوب
                drag21215.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2112.root.setEnabled(false);
                obj2122.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2127.root.setEnabled(true);
				
				 
                console.log("🏁 المرحلة الثالثة انتهت – السيناريو اكتمل");
				// 🔥 تشغيل المرحلة الرابعة
              
            } ;        }); };
//////
//الاستجابة رقم 2126
 
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase21261() {
	//اخفاء كائن الخطوة السابقة
	 obj2127.root.setEnabled(false);
	
	//الكائنات الثلاثة أو الأربعة
	obj2128.root.position.set(7,5.5,-12.5);
	obj2127.root.position.set(7,5.5,-12.5);
	
	
	//الكائن المسحوب والمسحوب عليه
    obj2128.root.setEnabled(true);
    
	//رسالة بعد سحب المرحلة الثانية
	document.getElementById("assistant2").innerHTML = messages21227;
	document.getElementById("assistant3").innerHTML = button21207 ;
	var n11101 = document.getElementById("next21207");
	if (n11101) n11101.style.display = "block";

	
		};


// ======================
// الزر الرئيسي لتشغيل المراحل
// ======================
document.addEventListener("click", (e) => {

    if (e.target.id === "next21201") {
		document.getElementById("assistant3").innerHTML = button21201 ;
		var n11101 = document.getElementById("next21201");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21211();
        handleResponse21201();
    }

  

	if (e.target.id === "next21206") {
		document.getElementById("assistant3").innerHTML = button21206 ;
		var n11101 = document.getElementById("next21206");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase21261();
        handleResponse21206();
    }
	
	if (e.target.id === "next21207") {
        handleResponse21207();
    }
	
	if (e.target.id === "next21208") {
        handleResponse21208();
    }
	
	if (e.target.id === "next21209") {
        handleResponse21209();
    }
	
	if (e.target.id === "next21210") {
        handleResponse21210();
    }
	
	if (e.target.id === "next21211") {
        handleResponse21211();
    }
	
	if (e.target.id === "next21212") {
        handleResponse21212();
    }
	
	if (e.target.id === "next21213") {
        handleResponse21213();
    }
	});

	function handleResponse21201() {
		document.getElementById("assistant2").innerHTML = messages21222;
		showButtons21201();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21202() {
		document.getElementById("assistant2").innerHTML = messages21223;
		showButtons21202();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}

	function handleResponse21203() {
		document.getElementById("assistant2").innerHTML = messages21224;
		showButtons21203();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21204() {
		document.getElementById("assistant2").innerHTML = messages21225;
        showButtons21204();
        moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
		
	}
	
	function handleResponse21205() {
		document.getElementById("assistant2").innerHTML = messages21226;
        showButtons21205();
        moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
		
	}
	
	function handleResponse21206() {
		document.getElementById("assistant2").innerHTML = messages21227;
		showButtons21206();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21207() {
		document.getElementById("assistant2").innerHTML = messages21228;
		showButtons21207();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21208() {
		document.getElementById("assistant2").innerHTML = messages21229;
		showButtons21208();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21209() {
		document.getElementById("assistant2").innerHTML = messages21230;
		showButtons21209();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21210() {
		document.getElementById("assistant2").innerHTML = messages21231;
		showButtons21210();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21211() {
		document.getElementById("assistant2").innerHTML = messages21232;
		showButtons21211();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21212() {
		document.getElementById("assistant2").innerHTML = messages21233;
		showButtons21212();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function handleResponse21213() {
		document.getElementById("assistant2").innerHTML = messages21221;
		showButtons21213();
		moveCamera(10, -30, new BABYLON.Vector3(10, 8, 0));
	}
	
	function showButtons21201() {
		
		}
		
	function showButtons21202() {
		
		}


	function showButtons21203() {
		
		}

    function showButtons21204() {
		
		}  ;
	
	function showButtons21205() {
		
		}


	function showButtons21206() {
		document.getElementById("assistant3").innerHTML = button21207 ;
		var n21206 = document.getElementById("next21207");
		if (n21206) n21206.style.display = "block";
		}  
		
	function showButtons21207() {
		document.getElementById("assistant3").innerHTML = button21208 ;
		var n21207 = document.getElementById("next21208");
		if (n21207) n21207.style.display = "block";
		}  
		
	function showButtons21208() {
		document.getElementById("assistant3").innerHTML = button21209 ;
		var n21208 = document.getElementById("next21209");
		if (n21208) n21208.style.display = "block";
		} 
	
	function showButtons21209() {
		document.getElementById("assistant3").innerHTML = button21210 ;
		var n21209 = document.getElementById("next21210");
		if (n21209) n21209.style.display = "block";
		} 

	function showButtons21210() {
		document.getElementById("assistant3").innerHTML = button21211 ;
		var n21210 = document.getElementById("next21211");
		if (n21210) n21210.style.display = "block";
		} 
		
	function showButtons21211() {
		document.getElementById("assistant3").innerHTML = button21212 ;
		var n21211 = document.getElementById("next21212");
		if (n21211) n21211.style.display = "block";
		}
		
	function showButtons21212() {
		document.getElementById("assistant3").innerHTML = button21213 ;
		var n21212 = document.getElementById("next21213");
		if (n21212) n21212.style.display = "block";
		}
		
	function showButtons21213() {
		document.getElementById("assistant3").innerHTML = button21201 ;
		var n21213 = document.getElementById("next21201");
		if (n21213) n21213.style.display = "block";
		}
              
                
              
 ////////////////////////////
  	//دوال على مستوى جميع تجارب الطاولة 22
//دالة موحدة لتحريك الكاميرا
	//دالة موحدة لتحريك الكاميرا
	function moveCamera2(x, z, target) {
		camX = x;
		camZ = z;

		camera.position.x = x;
		camera.position.z = z;
		camera.setTarget(target);
		}

	//لتحكم بالكاميرا داخل الـ render loop
	scene.onBeforeRenderObservable.add(() => {
		if (!cameraLocked2) {
			camera.position.x = camX;
			camera.position.z = camZ;
		}
		});
/////////////////////
//ا2تجابات أزرار تجربة 221
   
//الاستجابة رقم 2211

// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase22111() {
	//اخفاء كائن إعادة التجربة
	obj2218.root.setEnabled(false);
	//الكائن المسحوب
    drag22111 = createDrag1111(obj2203.dragMesh, obj2203.root);
	//الكائنات الثلاثة أو الأربعة
	obj2203.root.position.set(-7,5.5,-12.5);
	obj2201.root.position.set(-13,5.5,-12.5);
	obj2216.root.position.set(-13,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2203.root.setEnabled(true);
    obj2201.root.setEnabled(true);
	//الكائن المسحوب
    drag22111.enabled = true;
	//الكائن المسحوب
    if (reachObserver22111) {obj2203.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22111);}
    reachObserver22111 = obj2203.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2203.root.position,
                obj2201.root.position
            );
    if (d < 0.8) {
				//رسالة بعد سحب المرحلة الثانية
				document.getElementById("assistant2").innerHTML = messages22123;
				//إظهار زر الخطوة التالية
				document.getElementById("assistant3").innerHTML = button22103 ;
				var n11101 = document.getElementById("next22103");
				if (n11101) n11101.style.display = "block";
				
				//الكائن المسحوب
                obj2203.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22111);
                //الكائن المسحوب
				reachObserver22111 = null;
				//الكائن المسحوب
                drag22111.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2203.root.setEnabled(false);
                obj2201.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2216.root.setEnabled(true);
				
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
             
            };        });		};


//////
//الاستجابة رقم 2213
 
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase22131() {
	//اخفاء كائن الخطوة السابقة
	 obj2216.root.setEnabled(false);
	//الكائن المسحوب
    drag22131 = createDrag1111(obj2210.dragMesh, obj2210.root);
	//الكائنات الثلاثة أو الأربعة
	obj2210.root.position.set(-7,5.5,-12.5);
	obj2202.root.position.set(-13,5.5,-12.5);
	obj2218.root.position.set(-13,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2210.root.setEnabled(true);
    obj2202.root.setEnabled(true);
	//الكائن المسحوب
    drag22131.enabled = true;
	//الكائن المسحوب
    if (reachObserver22131) {obj2210.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22131);}
    reachObserver22131 = obj2210.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2210.root.position,
                obj2202.root.position
            );
    if (d < 0.8) {
		//رسالة بعد سحب المرحلة الثانية
				document.getElementById("assistant2").innerHTML = messages22125;
				//إظهار زر الخطوة التالية
				document.getElementById("assistant3").innerHTML = button22105 ;
				var n11101 = document.getElementById("next22105");
				if (n11101) n11101.style.display = "block";
				//الكائن المسحوب
                obj2210.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22131);
                //الكائن المسحوب
				reachObserver22131 = null;
				//الكائن المسحوب
                drag22131.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2210.root.setEnabled(false);
                obj2202.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2218.root.setEnabled(true);
				
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
               
            };        });		};


// ======================
// الزر الرئيسي لتشغيل المراحل
// ======================
document.addEventListener("click", (e) => {

    if (e.target.id === "next22101") {
		document.getElementById("assistant3").innerHTML = button22101 ;
		var n11101 = document.getElementById("next22101");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase22111();
		
        handleResponse22101();
    }

	if (e.target.id === "next22103") {
		document.getElementById("assistant3").innerHTML = button22103 ;
		var n11101 = document.getElementById("next22103");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase22131();
		
        handleResponse22103();
    }
	
    if (e.target.id === "next22104") {
        handleResponse22104();
    }
	
	if (e.target.id === "next22105") {
        handleResponse22105();
    }
	
	if (e.target.id === "next22106") {
        handleResponse22106();
    }
	
	if (e.target.id === "next22107") {
        handleResponse22107();
    }
	
	if (e.target.id === "next22108") {
        handleResponse22108();
    }
	
	if (e.target.id === "next22109") {
        handleResponse22109();
    }
	
	if (e.target.id === "next22110") {
        handleResponse22110();
    }
	
	});

	function handleResponse22101() {
		document.getElementById("assistant2").innerHTML = messages22122;
		showButtons22101();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}

	function handleResponse22102() {
		document.getElementById("assistant2").innerHTML = messages22123;
		showButtons22102();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22103() {
		document.getElementById("assistant2").innerHTML = messages22124;
		showButtons22103();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22104() {
		document.getElementById("assistant2").innerHTML = messages22125;
        showButtons22104();
        moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}
	
	function handleResponse22105() {
		document.getElementById("assistant2").innerHTML = messages22126;
        showButtons22105();
        moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}
	
	function handleResponse22106() {
		document.getElementById("assistant2").innerHTML = messages22127;
		showButtons22106();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22107() {
		document.getElementById("assistant2").innerHTML = messages22128;
		showButtons22107();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22108() {
		document.getElementById("assistant2").innerHTML = messages22129;
		showButtons22108();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22109() {
		document.getElementById("assistant2").innerHTML = messages22130;
		showButtons22109();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22110() {
		document.getElementById("assistant2").innerHTML = messages22121;
		showButtons22110();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	
	
	
	function showButtons22101() {
		
		}
	
	function showButtons22102() {
		
		}

	
	function showButtons22103() {
		
		}


    function showButtons22104() {
		document.getElementById("assistant3").innerHTML = button22105 ;
		var n22104 = document.getElementById("next22105");
		if (n22104) n22104.style.display = "block";
		}  ;
	
	function showButtons22105() {
		document.getElementById("assistant3").innerHTML = button22106 ;
		var n22104 = document.getElementById("next22106");
		if (n22104) n22104.style.display = "block";
		}  ;
		
	function showButtons22106() {
		document.getElementById("assistant3").innerHTML = button22107 ;
		var n22106 = document.getElementById("next22107");
		if (n22106) n22106.style.display = "block";
		}  
		
	function showButtons22107() {
		document.getElementById("assistant3").innerHTML = button22108 ;
		var n22107 = document.getElementById("next22108");
		if (n22107) n22107.style.display = "block";
		}  
		
	function showButtons22108() {
		document.getElementById("assistant3").innerHTML = button22109 ;
		var n22108 = document.getElementById("next22109");
		if (n22108) n22108.style.display = "block";
		}

	function showButtons22109() {
		document.getElementById("assistant3").innerHTML = button22110 ;
		var n22109 = document.getElementById("next22110");
		if (n22109) n22109.style.display = "block";
		}
		
	function showButtons22110() {
		document.getElementById("assistant3").innerHTML = button22101 ;
		var n22110 = document.getElementById("next22101");
		if (n22110) n22110.style.display = "block";
		}
     
//////////////////////////
//استجابات أزرار تجربة 222
   
//الاستجابة رقم 2221

// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase22211() {
	//اخفاء كائن إعادة التجربة
	obj2223.root.setEnabled(false);
								//الكائن المسحوب
    drag22211 = createDrag1111(obj2205.dragMesh, obj2205.root);
	//الكائنات الثلاثة أو الأربعة
	obj2205.root.position.set(-7,5.5,-12.5);
	obj2204.root.position.set(-13,5.5,-12.5);
	obj2205.root.position.set(-7,5.5,-12.5);
	obj2212.root.position.set(-13,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2205.root.setEnabled(true);
    obj2204.root.setEnabled(true);
	//الكائن المسحوب
    drag22211.enabled = true;
							//الكائن المسحوب
    if (reachObserver22211) {obj2205.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22211);}
    reachObserver22211 = obj2205.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2205.root.position,
                obj2204.root.position
            );
    if (d < 0.8) {
				//الكائن المسحوب
                obj2205.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22211);
               
				reachObserver22211 = null;
				
                drag22211.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2205.root.setEnabled(false);
                obj2204.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2205.root.setEnabled(true);
				obj2212.root.setEnabled(true);
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
                startPhase22212();
            };        });		};


// ======================
// المرحلة الثانية: سحب obj11114 على obj11115 → يظهر obj11116
// ======================
function startPhase22212() {
	//الكائن المسحوب
    drag22213 = createDrag1111(obj2205.dragMesh, obj2205.root);
	obj2205.root.position.set(-7,5.5,-12.5);
	obj2212.root.position.set(-13,5.5,-12.5);
	obj2206.root.position.set(-7,5.5,-12.5);
	obj2204.root.position.set(-13,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2205.root.setEnabled(true);
    obj2212.root.setEnabled(true);
	//الكائن المسحوب
    drag22213.enabled = true;
	//الكائن المسحوب
    if (reachObserver22213) { obj2205.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22213); }
    reachObserver22213 = obj2205.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2205.root.position,
                obj2212.root.position
            );

    if (d < 0.8) { 
				//الكائن المسحوب
				obj2205.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22213);
                //الكائن المسحوب
				reachObserver22213 = null;
                //الكائن المسحوب
				drag22213.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2205.root.setEnabled(false);
                obj2212.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2206.root.setEnabled(true);
				obj2204.root.setEnabled(true);
				//عرض رسالة
				document.getElementById("assistant2").innerHTML = messages22223;
                console.log("✔ المرحلة الثانية انتهت");
                // 🔥 تشغيل المرحلة الثالثة
                startPhase22213();
            };        }); 	};
// ======================
// المرحلة الثالثة: سحب obj11117 على obj11118 → يظهر obj11119
// ======================
function startPhase22213() {
							//الكائن المسحوب
    drag22215 = createDrag1111(obj2206.dragMesh, obj2206.root);
	//الكائنات الثلاثة أو الأربعة
	obj2206.root.position.set(-7,5.5,-12.5);
	obj2204.root.position.set(-13,5.5,-12.5);
	obj2223.root.position.set(-13,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2206.root.setEnabled(true);
    obj2204.root.setEnabled(true);
	
    drag22215.enabled = true;
							//الكان المسحوب
    if (reachObserver22215) { obj2206.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22215);}
	reachObserver22215 = obj2206.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2206.root.position,
                obj2204.root.position
            );

    if (d < 0.8) {
				//رسالة بعد سحب المرحلة الثانية
				document.getElementById("assistant2").innerHTML = messages22224;
				//إظهار زر الخطوة التالية
				document.getElementById("assistant3").innerHTML = button22204 ;
				var n11101 = document.getElementById("next22204");
				if (n11101) n11101.style.display = "block";
				//الكائن المسحوب
                obj2206.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22215);
			
                reachObserver22215 = null;
			
                drag22215.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2206.root.setEnabled(false);
                obj2204.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2223.root.setEnabled(true);
                console.log("🏁 المرحلة الثالثة انتهت – السيناريو اكتمل");
            } ;        }); };

// ======================
// الزر الرئيسي لتشغيل المراحل
// ======================
document.addEventListener("click", (e) => {

    if (e.target.id === "next22201") {
		document.getElementById("assistant3").innerHTML = button22201 ;
		var n11101 = document.getElementById("next22201");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase22211();
        handleResponse22201();
    }
	
	if (e.target.id === "next22202") {
        handleResponse22202();
    }
	
	if (e.target.id === "next22203") {
        handleResponse22203();
    }
	
    if (e.target.id === "next22204") {
        handleResponse22204();
    }
	
	if (e.target.id === "next22205") {
        handleResponse22205();
    }
	
	if (e.target.id === "next22206") {
        handleResponse22206();
    }
	
	if (e.target.id === "next22207") {
        handleResponse22207();
    }
	
	if (e.target.id === "next22208") {
        handleResponse22208();
    }
	
	if (e.target.id === "next22209") {
        handleResponse22209();
    }
	
	
	
	});

	function handleResponse22201() {
		document.getElementById("assistant2").innerHTML = messages22222;
		showButtons22201();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22202() {
		document.getElementById("assistant2").innerHTML = messages22223;
		showButtons22202();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22203() {
		document.getElementById("assistant2").innerHTML = messages22224;
		showButtons22203();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	
	function handleResponse22204() {
		document.getElementById("assistant2").innerHTML = messages22225;
        showButtons22204();
        moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}
	
	function handleResponse22205() {
		document.getElementById("assistant2").innerHTML = messages22226;
        showButtons22205();
        moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}
	
	
	function handleResponse22206() {
		document.getElementById("assistant2").innerHTML = messages22227;
		showButtons22206();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22207() {
		document.getElementById("assistant2").innerHTML = messages22228;
		showButtons22207();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22208() {
		document.getElementById("assistant2").innerHTML = messages22229;
		showButtons22208();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22209() {
		document.getElementById("assistant2").innerHTML = messages22221;
		showButtons22209();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	
	
	
	
	function showButtons22201() {
		
		}
	
	function showButtons22202() {
		
		}
		
	function showButtons22203() {
		document.getElementById("assistant3").innerHTML = button22204 ;
		var n22204 = document.getElementById("next22204");
		if (n22204) n22204.style.display = "block";
		}  ;
		
		
    function showButtons22204() {
		document.getElementById("assistant3").innerHTML = button22205 ;
		var n22204 = document.getElementById("next22205");
		if (n22204) n22204.style.display = "block";
		}  ;
	
	function showButtons22205() {
		document.getElementById("assistant3").innerHTML = button22206 ;
		var n22204 = document.getElementById("next22206");
		if (n22204) n22204.style.display = "block";
		}  ;
		
	function showButtons22206() {
		document.getElementById("assistant3").innerHTML = button22207 ;
		var n22206 = document.getElementById("next22207");
		if (n22206) n22206.style.display = "block";
		}  
		
	function showButtons22207() {
		document.getElementById("assistant3").innerHTML = button22208 ;
		var n22207 = document.getElementById("next22208");
		if (n22207) n22207.style.display = "block";
		}  
		
	function showButtons22208() {
		document.getElementById("assistant3").innerHTML = button22209 ;
		var n22208 = document.getElementById("next22209");
		if (n22208) n22208.style.display = "block";
		}

	function showButtons22209() {
		document.getElementById("assistant3").innerHTML = button22201 ;
		var n22209 = document.getElementById("next22201");
		if (n22209) n22209.style.display = "block";
		}
		
	
/////////////////////////
   //استجابات أزرار تجربة 223
   
//الاستجابة رقم 2231

// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase22311() {
	//اخفاء كائن إعادة التجربة
	obj2230.root.setEnabled(false);
	obj2228.root.setEnabled(false);
	//الكائن المسحوب
    drag22311 = createDrag1111(obj2205.dragMesh, obj2205.root);
	//الكائنات الثلاثة أو الأربعة
	obj2205.root.position.set(-7,5.5,-12.5);
	obj2207.root.position.set(-13,5.5,-12.5);
	obj2208.root.position.set(-7,5.5,-12.5);
	obj2228.root.position.set(-13,5.5,-12.5);
	//الكائن المسحوب والمسحوب عليه
    obj2205.root.setEnabled(true);
    obj2207.root.setEnabled(true);
	//الكائن المسحوب
    drag22311.enabled = true;
	//الكائن المسحوب
    if (reachObserver22311) {obj2205.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22311);}
    reachObserver22311 = obj2205.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2205.root.position,
                obj2207.root.position
            );
    if (d < 0.8) {
				document.getElementById("assistant2").innerHTML = messages22323;
				//الكائن المسحوب
                obj2205.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22311);
                //الكائن المسحوب
				reachObserver22311 = null;
				//الكائن المسحوب
                drag22311.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2205.root.setEnabled(false);
                obj2207.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2208.root.setEnabled(true);
				obj2228.root.setEnabled(true);
				console.log("✔ المرحلة الأولى انتهت");
                // 🔥 تشغيل المرحلة الثانية
                startPhase22312();
            };        });		};


// ======================
// المرحلة الثانية: سحب obj11114 على obj11115 → يظهر obj11116
// ======================
function startPhase22312() {
	//الكائن المسحوب
    drag22313 = createDrag1111(obj2208.dragMesh, obj2208.root);
	obj2208.root.position.set(-7,5.5,-12.5);
	obj2228.root.position.set(-13,5.5,-12.5);
	obj2230.root.position.set(-13,5.5,-12.5);
	
	//الكائن المسحوب والمسحوب عليه
    obj2208.root.setEnabled(true);
    obj2228.root.setEnabled(true);
	//الكائن المسحوب
    drag22313.enabled = true;
	//الكائن المسحوب
    if (reachObserver22313) { obj2208.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22313); }
    reachObserver22313 = obj2208.root.onAfterWorldMatrixUpdateObservable.add(() => {
    const d = BABYLON.Vector3.Distance(
				//الكائن المسحوب والمسحوب عليه
                obj2208.root.position,
                obj2228.root.position
            );

    if (d < 0.8) { 
				//الكائن المسحوب
				obj2208.root.onAfterWorldMatrixUpdateObservable.remove(reachObserver22313);
                //الكائن المسحوب
				reachObserver22313 = null;
                //الكائن المسحوب
				drag22313.enabled = false;
				//الكائن المسحوب والمسحوب عليه
                obj2208.root.setEnabled(false);
                obj2228.root.setEnabled(false);
				//الكائن الثالث والرابع المعروضة بعد السحب
                obj2230.root.setEnabled(true);
				
				//عرض رسالة
				document.getElementById("assistant2").innerHTML = messages22324;
				document.getElementById("assistant3").innerHTML = button22304 ;
				var n11101 = document.getElementById("next22304");
				if (n11101) n11101.style.display = "block";
                console.log("✔ المرحلة الثانية انتهت");
                // 🔥 تشغيل المرحلة الثالثة
               
            };        }); 	};
		

//////
//الاستجابة رقم 2234
 
// ======================
// المرحلة الأولى: سحب obj11111 على obj11112 → يظهر obj11113
// ======================
function startPhase22341() {
	//اخفاء كائن الخطوة السابقة
	 obj2230.root.setEnabled(false);
	
	//الكائنات الثلاثة أو الأربعة
	obj2230.root.position.set(-7,5.5,-12.5);
	obj2228.root.position.set(-13,5.5,-12.5);

	//الكائن المسحوب والمسحوب عليه
    obj2230.root.setEnabled(true);
    obj2228.root.setEnabled(true);
	
	//رسالة بعد سحب المرحلة الثانية
	document.getElementById("assistant2").innerHTML = messages22325;
	//إظهار زر الخطوة التالية
	document.getElementById("assistant3").innerHTML = button22305 ;
	var n11101 = document.getElementById("next22305");
	if (n11101) n11101.style.display = "block";
		};


// ======================
// الزر الرئيسي لتشغيل المراحل
// ======================
document.addEventListener("click", (e) => {

    if (e.target.id === "next22301") {
		document.getElementById("assistant3").innerHTML = button22301 ;
		var n11101 = document.getElementById("next22301");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase22311();
        handleResponse22301();
    }

    if (e.target.id === "next22304") {
		document.getElementById("assistant3").innerHTML = button22304 ;
		var n11101 = document.getElementById("next22304");
		if (n11101) n11101.style.display = "none";
        // ابدأ دائمًا من المرحلة الأولى فقط
        startPhase22341();
        handleResponse22304();
    }
	
	if (e.target.id === "next22305") {
        handleResponse22305();
    }
	
	
	if (e.target.id === "next22306") {
        handleResponse22306();
    }
	
	if (e.target.id === "next22307") {
        handleResponse22307();
    }
	
	if (e.target.id === "next22308") {
        handleResponse22308();
    }
	
	if (e.target.id === "next22309") {
        handleResponse22309();
    }
	
	if (e.target.id === "next22310") {
        handleResponse22310();
    }
	
	});

	function handleResponse22301() {
		document.getElementById("assistant2").innerHTML = messages22322;
		showButtons22301();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}

	function handleResponse22302() {
		document.getElementById("assistant2").innerHTML = messages22323;
		showButtons22302();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22303() {
		document.getElementById("assistant2").innerHTML = messages22324;
		showButtons22303();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	
	function handleResponse22304() {
		document.getElementById("assistant2").innerHTML = messages22325;
        showButtons22304();
        moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}
	
	function handleResponse22305() {
		document.getElementById("assistant2").innerHTML = messages22326;
        showButtons22305();
        moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
		
	}

	function handleResponse22306() {
		document.getElementById("assistant2").innerHTML = messages22327;
		showButtons22306();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22307() {
		document.getElementById("assistant2").innerHTML = messages22328;
		showButtons22307();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22308() {
		document.getElementById("assistant2").innerHTML = messages22329;
		showButtons22308();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22309() {
		document.getElementById("assistant2").innerHTML = messages22330;
		showButtons22309();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	function handleResponse22310() {
		document.getElementById("assistant2").innerHTML = messages22321;
		showButtons22310();
		moveCamera2(-10, -30, new BABYLON.Vector3(-10, 8, 0));
	}
	
	
	
	
	function showButtons22301() {
		
		}
	
	function showButtons22302() {
		
		}
	
	function showButtons22303() {
		
		}
		
    function showButtons22304() {
		
		}  ;
	
	function showButtons22305() {
		document.getElementById("assistant3").innerHTML = button22306 ;
		var n22306 = document.getElementById("next22306");
		if (n22306) n22306.style.display = "block";
		}
		
	function showButtons22306() {
		document.getElementById("assistant3").innerHTML = button22307 ;
		var n22306 = document.getElementById("next22307");
		if (n22306) n22306.style.display = "block";
		}  
		
	function showButtons22307() {
		document.getElementById("assistant3").innerHTML = button22308 ;
		var n22307 = document.getElementById("next22308");
		if (n22307) n22307.style.display = "block";
		}  
		
	function showButtons22308() {
		document.getElementById("assistant3").innerHTML = button22309 ;
		var n22308 = document.getElementById("next22309");
		if (n22308) n22308.style.display = "block";
		}

	function showButtons22309() {
		document.getElementById("assistant3").innerHTML = button22310 ;
		var n22309 = document.getElementById("next22310");
		if (n22309) n22309.style.display = "block";
		}
		
	function showButtons22310() {
		document.getElementById("assistant3").innerHTML = button22301 ;
		var n22310 = document.getElementById("next22301");
		if (n22310) n22310.style.display = "block";
		}




     
////////////////////////          
//Programming object 
	//اختيار الكائن عند النقر
        // ----------------------------
// 7️⃣ اختيار الكائن مع التلوين
// ----------------------------
             
scene.onPointerObservable.add((pointerInfo) => {
    if (pointerInfo.type !== BABYLON.PointerEventTypes.POINTERPICK) return;

    const pickInfo = pointerInfo.pickInfo;

    // إذا تم النقر على الفراغ لإلغاء التحديد
    if (!pickInfo.hit || !pickInfo.pickedMesh) {
        if (selectedObject) {
            selectedObject.getChildMeshes().forEach(m => highlightLayer.removeMesh(m));
            selectedObject = null;
        }
        return;
    }

    const pickedMesh = pickInfo.pickedMesh;

    // إزالة التلوين عن الكائن السابق
    if (selectedObject) {
        selectedObject.getChildMeshes().forEach(m => highlightLayer.removeMesh(m));
    }

    // الوصول للجذر دائمًا
    selectedObject = pickedMesh.parent ?? pickedMesh;

    // تلوين كل الأجزاء
    selectedObject.getChildMeshes().forEach(m => {
        highlightLayer.addMesh(m, BABYLON.Color3.FromHexString("#00ffff")); // لون التحديد
    });
});

            
     
//////////////////////////////////////////////////
                
                
                //قسم سقف وجدران المعمل
				//إنشاء السقف
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:61, height: 0.2, depth:71 }, scene);
				box1.position.x=0;
				box1.position.y=30;
				box1.position.z=0;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/18.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
                box1.isPickable = false;
            
                //إنشاء جدران الجانب الشمالي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box3", { width: 60, height: 0.2, depth: 30 }, scene);
				box1.position.x=0;
				box1.position.y=15;
				box1.position.z=35;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء جدران الجانب الغربي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 70, depth:30 }, scene);
				box1.position.x=-30;
				box1.position.y=15;
				box1.position.z=0;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				/*
				//إنشاء جدران الجانب الجنوبي الغربي
				var taha2 = new BABYLON.MeshBuilder.CreateBox("wall2", { width: 20, height: 30, depth: 2 }, scene);
				taha2.position.x=-20;
				taha2.position.y=15;
				taha2.position.z=-34;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				taha2.material = material;
				taha2.isPickable = false;
            	taha2.checkCollisions = true; // مهم جداً ليصبح جزءًا من نظام التصادم
				
            */
            
            //إنشاء جدران الجانب الجنوبي العلوي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width: 60, height: 10, depth: 2 }, scene);
				box1.position.x=0;
				box1.position.y=25;
				box1.position.z=-34;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            /*
				//إنشاء جدران الجانب الجنوبي الشرقي
				var taha1 = new BABYLON.MeshBuilder.CreateBox("wall1", { width: 20, height: 30, depth: 2 }, scene);
				taha1.position.x=20;
				taha1.position.y=15;
				taha1.position.z=-34;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				taha1.material = material;
				taha1.isPickable = false;
           		taha1.checkCollisions = true; // مهم جداً ليصبح جزءًا من نظام التصادم
            */
				//إنشاء جدران الجانب الشرقي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box3", { width: 0.2, height: 70, depth: 30 }, scene);
				box1.position.x=30;
				box1.position.y=15;
				box1.position.z=0;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
            
            	/////////
				//إنشاء الصالة
				
				//إنشاء سقف الصالة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:61, height: 0.2, depth:71 }, scene);
				box1.position.x=0;
				box1.position.y=30;
				box1.position.z=-70;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/18.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				//إنشاء الجانب الغربي للصالة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 70, depth:30 }, scene);
				box1.position.x=-30;
				box1.position.y=15;
				box1.position.z=-70;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء الجانب الجنوبي للصالة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width: 60, height: 30, depth: 0.2 }, scene);
				box1.position.x=0;
				box1.position.y=15;
				box1.position.z=-105;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				//إنشاء الجانب الشرقي للصالة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box3", { width: 0.2, height: 70, depth: 30 }, scene);
				box1.position.x=30;
				box1.position.y=15;
				box1.position.z=-70;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/52.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				///////////////
				// قسم شبابيك المعمل والصالة
				

				//إنشاء شباك الجانب الشرقي للمعمل
				var box51 = BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 15, depth:10 }, scene);
				box51.position.x=29.8;
				box51.position.y=17;
				box51.position.z=0;
				box51.rotation.x=-3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/53.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box51.material = material;
				box51.isPickable = false;
            
				//إنشاء شباك الجانب الغربي للمعمل
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 15, depth:10 }, scene);
				box1.position.x=-29.8;
				box1.position.y=17;
				box1.position.z=0;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/53.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء شباك الجانب الشرقي للصالة
				var box51 = BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 15, depth:10 }, scene);
				box51.position.x=29.8;
				box51.position.y=17;
				box51.position.z=-70;
				box51.rotation.x=-3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/53.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box51.material = material;
				box51.isPickable = false;
            
				//إنشاء شباك الجانب الغربي للصالة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 15, depth:10 }, scene);
				box1.position.x=-29.8;
				box1.position.y=17;
				box1.position.z=-70;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/53.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;

				
				////////////
				//إنشاء باب الصالة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 0.2, height: 15, depth:15 }, scene);
				box1.position.x=0;
				box1.position.y=7.5;
				box1.position.z=-104.5;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/51.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
                
                /////////
				//إنشاء الأعمدة
				//إنشاء عمود شمال شرق
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:30,diameterTop:8, diameterBottom:8}, scene);
				box1.position.x=30;
				box1.position.y=15;
				box1.position.z=35;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.71, 0.55, 0.22, 0.67);
				box1.material = materialBox;
				box1.isPickable = false;
				
				//إنشاء عمود شمال غرب
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:30,diameterTop:8, diameterBottom:8}, scene);
				box1.position.x=-30;
				box1.position.y=15;
				box1.position.z=35;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.71, 0.55, 0.22, 0.67);
				box1.material = materialBox;
				box1.isPickable = false;
            
				/*
				//إنشاء عمود جنوب شرق
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:30,diameterTop:8, diameterBottom:8}, scene);
				box1.position.x=30;
				box1.position.y=15;
				box1.position.z=-35;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.71, 0.55, 0.22, 0.67);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//إنشاء عمود جنوب غرب
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:30,diameterTop:8, diameterBottom:8}, scene);
				box1.position.x=-30;
				box1.position.y=15;
				box1.position.z=-35;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.71, 0.55, 0.22, 0.67);
				box1.material = materialBox;
				box1.isPickable = false;
            */
				//إنشاء عمود الصالة جنوب شرق
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:30,diameterTop:8, diameterBottom:8}, scene);
				box1.position.x=30;
				box1.position.y=15;
				box1.position.z=-105;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.71, 0.55, 0.22, 0.67);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//إنشاء عمود الصالة جنوب غرب
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:30,diameterTop:8, diameterBottom:8}, scene);
				box1.position.x=-30;
				box1.position.y=15;
				box1.position.z=-105;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.71, 0.55, 0.22, 0.67);
				box1.material = materialBox;
				box1.isPickable = false;
            
				/////////
				//إنشاء الطاولات
				
          
				//الطاولة رقم 1
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:10, height: 1, depth:5 }, scene);
				box1.position.x=10;
				box1.position.y=4.5;
				box1.position.z=-12.5;
          
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
             
				materialBox.diffuseColor =  new BABYLON.Color3(0.41, 0.21, 0.21, 0.88);
               
				box1.material = materialBox;
          
				box1.isPickable = false;
            
				//الطاولة رقم 1
				//الدرج الأيمن
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:3, height: 4, depth:5 }, scene);
				box1.position.x=13.5;
				box1.position.y=2;
				box1.position.z=-12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
            /*
				materialBox.diffuseColor =  new BABYLON.Color3(0.81, 0.19, 0.53, 0.9);
                */
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 1
				//الجانب الأيسر
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:1, height: 4, depth:5 }, scene);
				box1.position.x=5.5;
				box1.position.y=2;
				box1.position.z=-12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
            /*
				materialBox.diffuseColor =  new BABYLON.Color3(0.81, 0.19, 0.53, 0.9);
                */
				box1.material = materialBox;
				box1.isPickable = false;
            				
				
				
				//الطاولة رقم 2
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:10, height: 1, depth:5 }, scene);
				box1.position.x=-10;
				box1.position.y=4.5;
				box1.position.z=-12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.41, 0.21, 0.21, 0.88);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 2
				//الدرج الأيمن
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:3, height: 4, depth:5 }, scene);
				box1.position.x=-6.5;
				box1.position.y=2;
				box1.position.z=-12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 2
				//الجانب الأيسر
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:1, height: 4, depth:5 }, scene);
				box1.position.x=-14.5;
				box1.position.y=2;
				box1.position.z=-12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				
				box1.material = materialBox;
				box1.isPickable = false;
				
				
				//الطاولة رقم 3
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:10, height: 1, depth:5 }, scene);
				box1.position.x=10;
				box1.position.y=4.5;
				box1.position.z=12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.41, 0.21, 0.21, 0.88);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 3
				//الدرج الأيمن
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:3, height: 4, depth:5 }, scene);
				box1.position.x=13.5;
				box1.position.y=2;
				box1.position.z=12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 3
				//الجانب الأيسر
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:1, height: 4, depth:5 }, scene);
				box1.position.x=5.5;
				box1.position.y=2;
				box1.position.z=12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
			
				box1.material = materialBox;
				box1.isPickable = false;
				
				
				//الطاولة رقم 4
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:10, height: 1, depth:5 }, scene);
				box1.position.x=-10;
				box1.position.y=4.5;
				box1.position.z=12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.41, 0.21, 0.21, 0.88);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 4
				//الدرج الأيمن
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:3, height: 4, depth:5 }, scene);
				box1.position.x=-6.5;
				box1.position.y=2;
				box1.position.z=12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 4
				//الجانب الأيسر
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:1, height: 4, depth:5 }, scene);
				box1.position.x=-14.5;
				box1.position.y=2;
				box1.position.z=12.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				
				box1.material = materialBox;
				box1.isPickable = false;
				
				
				
				
				///////////////////////
				//إنشاء لوحات عنوان الطاولات
				
				//الطاولة رقم 1
				//إنشاء عمود عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:4,diameterTop:0.5, diameterBottom:0.5}, scene);
				box1.position.x=10;
				box1.position.y=6;
				box1.position.z=-10.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.8, 0.92, 0.09);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 1
				//لوحة عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:5, height: 2, depth:0.5 }, scene);
				box1.position.x=10;
				box1.position.y=8;
				box1.position.z=-10.51;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 1
				//لوحة عنوان الطاولة الجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 5, depth:2 }, scene);
				box1.position.x=10;
				box1.position.y=8;
				box1.position.z=-10.49;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 2
				//إنشاء عمود عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:4,diameterTop:0.5, diameterBottom:0.5}, scene);
				box1.position.x=-10;
				box1.position.y=6;
				box1.position.z=-10.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.8, 0.92, 0.09);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 2
				//لوحة عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:5, height: 2, depth:0.5 }, scene);
				box1.position.x=-10;
				box1.position.y=8;
				box1.position.z=-10.51;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/152.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 2
				//لوحة عنوان الطاولة الجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 5, depth:2 }, scene);
				box1.position.x=-10;
				box1.position.y=8;
				box1.position.z=-10.49;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/152.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 3
				//إنشاء عمود عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:4,diameterTop:0.5, diameterBottom:0.5}, scene);
				box1.position.x=10;
				box1.position.y=6;
				box1.position.z=14.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.8, 0.92, 0.09);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 3
				//لوحة عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:5, height: 2, depth:0.5 }, scene);
				box1.position.x=10;
				box1.position.y=8;
				box1.position.z=14.49;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/153.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 3
				//لوحة عنوان الطاولة الجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 5, depth:2 }, scene);
				box1.position.x=10;
				box1.position.y=8;
				box1.position.z=14.51;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/153.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 4
				//إنشاء عمود عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateCylinder("cylinder", {height:4,diameterTop:0.5, diameterBottom:0.5}, scene);
				box1.position.x=-10;
				box1.position.y=6;
				box1.position.z=14.5;
				var materialBox = new BABYLON.StandardMaterial("texture1", scene);
				materialBox.diffuseColor =  new BABYLON.Color3(0.8, 0.92, 0.09);
				box1.material = materialBox;
				box1.isPickable = false;
            
				//الطاولة رقم 4
				//لوحة عنوان الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:5, height: 2, depth:0.5 }, scene);
				box1.position.x=-10;
				box1.position.y=8;
				box1.position.z=14.49;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/154.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//الطاولة رقم 4
				//لوحة عنوان الطاولة الجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 5, depth:2 }, scene);
				box1.position.x=-10;
				box1.position.y=8;
				box1.position.z=14.51;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/154.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				
				
				///////////////////////////
				//إنشاء لوحات التحكم في الطاولات
				/*
				//الطاولة رقم 1
				//لوحة التحكم في الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:2, height: 2, depth:0.5 }, scene);
				box1.position.x=12.5;
				box1.position.y=8;
				box1.position.z=-10.51;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				//الطاولة رقم 1
				//لوحة التحكم في الطاولةالجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 2, depth:2 }, scene);
				box1.position.x=12.5;
				box1.position.y=8;
				box1.position.z=-10.49;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
            	//الطاولة رقم 2
				//لوحة التحكم في الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:2, height: 2, depth:0.5 }, scene);
				box1.position.x=-7.5;
				box1.position.y=8;
				box1.position.z=-10.51;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				//الطاولة رقم 2
				//لوحة التحكم في الطاولةالجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 2, depth:2 }, scene);
				box1.position.x=-7.5;
				box1.position.y=8;
				box1.position.z=-10.49;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
            	
           		//الطاولة رقم 3
				//لوحة التحكم في الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:2, height: 2, depth:0.5 }, scene);
				box1.position.x=12.5;
				box1.position.y=8;
				box1.position.z=14.49;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				//الطاولة رقم 3
				//لوحة التحكم في الطاولةالجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 2, depth:2 }, scene);
				box1.position.x=12.5;
				box1.position.y=8;
				box1.position.z=14.51;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
            
            	//الطاولة رقم 4
				//لوحة التحكم في الطاولة
				var box1 = new BABYLON.MeshBuilder.CreateBox("box2", { width:2, height: 2, depth:0.5 }, scene);
				box1.position.x=-7.5;
				box1.position.y=8;
				box1.position.z=14.49;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				//الطاولة رقم 4
				//لوحة التحكم في الطاولةالجانب الخلفي
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", {width: 0.5, height: 2, depth:2 }, scene);
				box1.position.x=-7.5;
				box1.position.y=8;
				box1.position.z=14.51;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/151.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				*/
				
				
        
        
			
				
				/////////////////////
				//إنشاء اللوحات
				
				//إنشاء لوحة تعريف المعمل
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 40, height:6, depth: 0.2 }, scene);
				box1.position.x = 0;
				box1.position.y = 25;
				box1.position.z =- 35.5;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/200.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            /*
				//إنشاء لوحة التعليمات
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 7, height: 10, depth: 0.2 }, scene);
				box1.position.x = 17.5;
				box1.position.y = 15;
				box1.position.z = -35.5;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/90.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            */
				////////////
				//إنشاء اللوحات المعمل
				
				//ملحوظة ترقيم اللوحات حسب ورودهم في الدرس وليس حسب الجانب
				
				//إنشاء لوحات الجانب الجنوبي
				/*
                //إنشاء اللوحة رقم 1
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 0.2, height: 7, depth:10 }, scene);
				box1.position.x=20;
				box1.position.y=20;
				box1.position.z=-32.5;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/101.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
            	//إنشاء اللوحة رقم 12
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 0.2, height: 7, depth:10 }, scene);
				box1.position.x=-20;
				box1.position.y=20;
				box1.position.z=-32.5;
				box1.rotation.x=-3.14/2;
				box1.rotation.y=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/112.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            */
                
				//إنشاء لوحات الجانب الشرقي
				
                
                //إنشاء اللوحة رقم 1
				var box1 = BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=29.5;
				box1.position.y=20;
				box1.position.z=-25;
				box1.rotation.x=-3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/201.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء اللوحة رقم 2
				var box1 = BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=29.5;
				box1.position.y=20;
				box1.position.z=-13.5;
				box1.rotation.x=-3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/202.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء اللوحة رقم 3
				var box1 = BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=29.5;
				box1.position.y=20;
				box1.position.z=13.5;
				box1.rotation.x=-3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/203.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء اللوحة رقم 4
				var box1 = BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=29.5;
				box1.position.y=20;
				box1.position.z=25;
				box1.rotation.x=-3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/204.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء لوحات الجانب الشمالي
				//إنشاء اللوحة رقم 5
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 7, height: 10, depth: 0.2 }, scene);
				box1.position.x = 20;
				box1.position.y = 20;
				box1.position.z = 34.5;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/205.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
				
                //إنشاء اللوحة رقم 6
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 7, height: 10, depth: 0.2 }, scene);
				box1.position.x = 7.5;
				box1.position.y = 20;
				box1.position.z = 34.5;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/206.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
				
                //إنشاء اللوحة رقم 7
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 7, height: 10, depth: 0.2 }, scene);
				box1.position.x = -7.5;
				box1.position.y = 20;
				box1.position.z = 34.5;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/207.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
                
                
				//إنشاء اللوحة رقم 8
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width: 7, height: 10, depth: 0.2 }, scene);
				box1.position.x = -20;
				box1.position.y = 20;
				box1.position.z = 34.5;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/208.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
				
				//إنشاء لوحات الجانب الغربي
				
				//إنشاء اللوحة رقم 9
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=-29.5;
				box1.position.y=20;
				box1.position.z=25;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/209.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء اللوحة رقم 10
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=-29.5;
				box1.position.y=20;
				box1.position.z=13.5;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/210.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء اللوحة رقم 11
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=-29.5;
				box1.position.y=20;
				box1.position.z=-13.5;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/211.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				//إنشاء اللوحة رقم 12
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=-29.5;
				box1.position.y=20;
				box1.position.z=-25;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/212.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
                
                //إنشاء لوحة التعليمات
				var box1 = new BABYLON.MeshBuilder.CreateBox("box51", { width:0.2, height: 7, depth:10 }, scene);
				box1.position.x=-29.5;
				box1.position.y=15;
				box1.position.z=-50;
				box1.rotation.x=3.14/2;
				var material = new BABYLON.StandardMaterial("material", scene);
				material.diffuseTexture = new BABYLON.Texture( "img/90.jpg", scene);
				material.diffuseTexture.hasAlpha = true;
				material.backFaceCulling = false;
				box1.material = material;
				box1.isPickable = false;
            
				
				
						
				
				/////////
				//إنشاء شاشة العرض
				//إدراج فيديو 
                /*
				var planeOpts = { height: 14, width: 20, sideOrientation: BABYLON.Mesh.DOUBLESIDE };
				var ANote0Video = BABYLON.MeshBuilder.CreatePlane("plane", planeOpts, scene);
				var vidPos = (new BABYLON.Vector3(0,20,34.5))
				ANote0Video.position = vidPos;
				var ANote0VideoMat = new BABYLON.StandardMaterial("m", scene);
				ANote0Video.isPickable = false;
				
				/*
				https://www.youtube.com/embed/_Xe6vyoKbMs?si=gTUIcGZvsQn18Ul3
				
				https://www.youtube.com/watch?v=_Xe6vyoKbMs
				*/
                /*
				var ANote0VideoVidTex = new BABYLON.VideoTexture("vidtex","https://www.youtube.com/watch?v=_Xe6vyoKbMs", scene);
				ANote0VideoMat.diffuseTexture = ANote0VideoVidTex;
				ANote0VideoMat.roughness = 1;
				ANote0VideoMat.emissiveColor = new BABYLON.Color3.White();
				ANote0Video.material = ANote0VideoMat;
				scene.onPointerObservable.add(function(evt){
						if(evt.pickInfo.pickedMesh === ANote0Video){
							//console.log("picked");
								if(ANote0VideoVidTex.video.paused)
									ANote0VideoVidTex.video.play();
								else
									ANote0VideoVidTex.video.pause();
								console.log(ANote0VideoVidTex.video.paused?"paused":"playing");
						}
				}, BABYLON.PointerEventTypes.POINTERPICK);
				
	*/
				
				
 ////////////////////////////
//Programming object 20
	//الانتقال والاستدارة من خلال html
        /*الانتقال إلى الأمام */
            let moveInterval = null;
			
			gui1.addEventListener("mousedown", () => {
            if (camera ) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            if( camZ < 25 && camZ > -100 &&  camX < 26 &&  camX > -26 ) {
                camera.position.z += 0.1; // السرعة
                camZ += 0.1;
                pz += 0.1;
          		};     
                }, 16); // كل 16ms ~ 60fps
                }
                });

            gui1.addEventListener("mouseup", () => {
            clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui1.addEventListener("mouseleave", () => {
                    clearInterval(moveInterval); // لو خرج الماوس من الزر
                });
       
	   
        /*الانتقال إلى الخلف */
            gui2.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            if( camZ < 26 && camZ > -99 &&  camX < 26 &&  camX > -26 ) {
                camera.position.z -= 0.1; // السرعة
                camZ -= 0.1;
				pz -= 0.1;
				};
                }, 16); // كل 16ms ~ 60fps
                }
                });

            gui2.addEventListener("mouseup", () => {
                clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui2.addEventListener("mouseleave", () => {
                clearInterval(moveInterval); // لو خرج الماوس من الزر
                });


        /*الانتقال إلى اليمين */
            gui3.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            if( camX > -26 && camX <25 && camZ > -100 && camZ < 26 ){
            camera.position.x += 0.1; // السرعة
            camX +=  0.1;
			px +=  0.1;
			};
            }, 16); // كل 16ms ~ 60fps
            }
            });

            gui3.addEventListener("mouseup", () => {
                clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui3.addEventListener("mouseleave", () => {
            clearInterval(moveInterval); // لو خرج الماوس من الزر
                });


        /*الانتقال إلى اليسار */
            gui4.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            if(  camX > -25 &&  camX < 26  && camZ > -100 && camZ < 26 ){
                camera.position.x -= 0.1; // السرعة
                camX -=  0.1;
				px -=  0.1;
				};
                }, 16); // كل 16ms ~ 60fps
                }
                });

            gui4.addEventListener("mouseup", () => {
            clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui4.addEventListener("mouseleave", () => {
            clearInterval(moveInterval); // لو خرج الماوس من الزر
                });

            
        /*الاستدارة إلى أعلى */
            gui5.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
                camera.rotation.x -= 0.001 // السرعة
                }, 1); // كل 16ms ~ 60fps
                }
                });

            gui5.addEventListener("mouseup", () => {
            clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui5.addEventListener("mouseleave", () => {
            clearInterval(moveInterval); // لو خرج الماوس من الزر
                });

            
        /*الاستدارة إلى أسفل*/
            gui6.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            camera.rotation.x += 0.001; // السرعة
            }, 1); // كل 16ms ~ 60fps
            }
            });

            gui6.addEventListener("mouseup", () => {
            clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui6.addEventListener("mouseleave", () => {
            clearInterval(moveInterval); // لو خرج الماوس من الزر
                });

            
        /*الاستدارة إلى اليمين*/
            gui7.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            camera.rotation.y += 0.001; // السرعة
                }, 1); // كل 16ms ~ 60fps
                }
                });

            gui7.addEventListener("mouseup", () => {
            clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui7.addEventListener("mouseleave", () => {
            clearInterval(moveInterval); // لو خرج الماوس من الزر
                });

            
		/*الاستدارة إلى اليسار*/
			gui8.addEventListener("mousedown", () => {
            if (camera) {
            // نبدأ الحركة المتكررة
            moveInterval = setInterval(() => {
            camera.rotation.y -= 0.001; // السرعة
            }, 1); // كل 16ms ~ 60fps
            }
            });

            gui8.addEventListener("mouseup", () => {
            clearInterval(moveInterval); // توقف الحركة عند رفع اليد
                });

            gui8.addEventListener("mouseleave", () => {
			clearInterval(moveInterval); // لو خرج الماوس من الزر
                });
            
////////////////////////////
/*التحكم فى المشهد من خلال لوحة المفاتيح*/
				
				var gizmoManager = new BABYLON.GizmoManager(scene)
				document.onkeydown = (e)=>{
                if( e.keyCode == 38 || e.keyCode == 40 || e.keyCode == 68  || e.keyCode == 65  || e.keyCode == 39 || e.keyCode == 37 || e.keyCode == 87 || e.keyCode == 83 ){
                  
                    gizmoManager.positionGizmoEnabled = false;
                    gizmoManager.rotationGizmoEnabled = false;
                    gizmoManager.scaleGizmoEnabled = false;
                    gizmoManager.boundingBoxGizmoEnabled = false;
					
					//الانتقال إلى الشمال باستخدام لوحة المفاتيح
					//التحرك إلى الشمال في المنطقة 11
                   
				
					//الانتقال إلى الشمال في المنطقة 1
					  if(e.keyCode == 38 && camZ < 25 && camZ > -100 &&  camX < 26 &&  camX > -26 ) {
                    camera.position.z += 1;
					 camZ += 1;
					pz += 1;
					}
					  
					//الانتقال إلى الجنوب باستخدام لوحة المفاتيح
					
					
					//الانتقال إلى الجنوب في المنطقة 1
					  if(e.keyCode == 40 && camZ < 26 && camZ > -99 &&  camX < 26 &&  camX > -26 ) {
                    camera.position.z -= 1;
					 camZ -=1;
					pz -=1;
					 }
					
					 
					 
					//الانتقال إلى الشرق باستخدام لوحة المفاتيح
					
					
					
					//الانتقال إلى الشرق في المنطقة 1
					if(e.keyCode == 39   && camX > -26 && camX <25 && camZ > -100 && camZ < 26 ){
                        camera.position.x += 1;
						camX += 1;
						px += 1;
						}
					
					
						
					//الانتقال إلى الغرب باستخدام لوحة المفاتيح
					
					
					//الانتقال إلى الغرب في المنطقة 1
					
					if(e.keyCode == 37   &&  camX > -25 &&  camX < 26  && camZ > -100 && camZ < 26 ){
                        camera.position.x -= 1;
						camX -= 1;
						px -= 1;
						}
					
					//الاستدارة إلى اليمين باستخدام لوحة المفاتيح
					if(e.keyCode == 68) {
					camera.rotation.y += 0.1;
					}
					
					//الاستدارة إلى اليسار باستخدام لوحة المفاتيح
					if(e.keyCode == 65) {
					camera.rotation.y -= 0.1;
					}
					
					
					//الاستدارة إلى أعلى باستخدام لوحة المفاتيح
					if(e.keyCode == 87 ) {
					camera.rotation.x -= 0.1;
					}
					
					//الاستدارة إلى أسفل باستخدام لوحة المفاتيح
					if(e.keyCode == 83) {
					camera.rotation.x += 0.1;
					}
									
                }
				}
				
				document.onkeydown({key: "l"})
				
				   
                
                //يجب إدراج جميع الكائنات قبل ذلك المكان
                
            
            
            

        return scene;
    };

    var scene = createScene();

    // تشغيل الرسم
    engine.runRenderLoop(function () {
        scene.render();
    });
    window.addEventListener("resize", function () {
        engine.resize();
    });

        //نهاية كود مشهد بابلون

        
        
        
///////////////////////////////
//Programming object 
	//دوال لوحة التحكم
			// ----------------------------
// 6️⃣ دوال النقل / التدوير / التحجيم
// ----------------------------
function move(direction) {
    if (!selectedObject) return;
    const step = 0.3;
    switch(direction){
        case 'up': selectedObject.position.y += step; break;
        case 'down': selectedObject.position.y -= step; break;
        case 'left': selectedObject.position.x -= step; break;
        case 'right': selectedObject.position.x += step; break;
        case 'forward': selectedObject.position.z += step; break;
        case 'backward': selectedObject.position.z -= step; break;
    }
}

function rotate(direction) {
    if (!selectedObject) return;
    const angle = 0.1;
    const axis = BABYLON.Axis.Y;
    if (direction === 'left') selectedObject.rotate(axis, -angle, BABYLON.Space.WORLD);
    if (direction === 'right') selectedObject.rotate(axis, angle, BABYLON.Space.WORLD);
}

function scale(direction) {
    if (!selectedObject) return;
    const factor = 0.1;
    if (direction === 'up') selectedObject.scaling.multiplyInPlace(new BABYLON.Vector3(1 + factor, 1 + factor, 1 + factor));
    if (direction === 'down') selectedObject.scaling.multiplyInPlace(new BABYLON.Vector3(1 - factor, 1 - factor, 1 - factor));
}

   
       
 	  ////////////////
         
       
		
		//كود التحكم فى التعليقات داخل قاعة العرض
		//متغيرات يجب إنشائها لكل لوحة	
		var pic1=0;
		var p1=0;
		var pic2=0;
		var p2=0;
		var pic3=0;
		var p3=0;
		var pic4=0;
		var p4=0;
		var pic5=0;
		var p5=0;
		var pic6=0;
		var p6=0;
		var pic7=0;
		var p7=0;
		var pic8=0;
		var p8=0;
		var pic9=0;
		var p9=0;
		var pic10=0;
		var p10=0;
		var pic11=0;
		var p11=0;
		
		
		
       	/*
		var myT =setInterval( function(){
		
			  //برمجة التفاعل
     
     
	
		
		//التحكم فى التعليق رقم 1
		
		if(pz<=18 && pz>=15  && px<=11 && px>=6 && p1==0){pic1=1; p1=1;};
		for (d=1; d<2; d++){
			if (pic1==1){
				window.d1.innerHTML = "<audio src='audio/audio101.m4a' autoplay controls  />";
				pic1=0;
			};};
		
		
		//التحكم فى التعليق رقم 2
		
		if(pz<=18 && pz>=15  && px<=3 && px>=-3 && p2==0){pic2=1; p2=1;};
		for (d=1; d<2; d++){
			if (pic2==1){
				window.d1.innerHTML = "<audio src='audio/audio102.m4a' autoplay controls />";
				pic2=0;
			};};
		
		
		
		//التحكم فى التعليق رقم 3
		
		
		if(pz<=18 && pz>=13 && px<=-6 && px>=-11 && p3==0){pic3=1; p3=1;};
		for (d=1; d<2; d++){
			if (pic3==1){
				window.d1.innerHTML = "<audio src='audio/audio103.m4a' autoplay controls />";
				pic3=0;
			};};
		
		//التحكم فى التعليق رقم 4
		
		
		if(pz<=11 && pz>=6 && px<=-15 && px>=-18 && p4==0){pic4=1; p4=1;};
		for (d=1; d<2; d++){
			if (pic4==1){
				window.d1.innerHTML = "<audio src='audio/audio104.m4a' autoplay controls />";
				pic4=0;
			};};
		
		//التحكم فى التعليق رقم 5
		
		
		if(pz<=3 && pz>=-3 && px<=-15 && px>=-18 && p5==0){pic5=1; p5=1;};
		for (d=1; d<2; d++){
			if (pic5==1){
				window.d1.innerHTML = "<audio src='audio/audio105.m4a' autoplay controls />";
				pic5=0;
			};};
		
		//التحكم فى التعليق رقم 6
		
		
		if(pz<=-6 && pz>=-11 && px<=-15 && px>=-18 && p6==0){pic6=1; p6=1;};
		for (d=1; d<2; d++){
			if (pic6==1){
				window.d1.innerHTML = "<audio src='audio/audio106.m4a' autoplay controls />";
				pic6=0;
			};};
		
		//التحكم فى التعليق رقم 7
		
		
		if(pz<=-15 && pz>=-18 && px<=-8 && px>=-14 && p7==0){pic7=1; p7=1;};
		for (d=1; d<2; d++){
			if (pic7==1){
				window.d1.innerHTML = "<audio src='audio/audio107.m4a' autoplay controls />";
				pic7=0;
			};};
		
		//التحكم فى التعليق رقم 8
		
		
		if(pz<=-15 && pz>=-18 && px<=14 && px>=8 && p8==0){pic8=1; p8=1;};
		for (d=1; d<2; d++){
			if (pic8==1){
				window.d1.innerHTML = "<audio src='audio/audio108.m4a' autoplay controls />";
				pic8=0;
			};};
		
		//التحكم فى التعليق رقم 9
		
		
		if(pz<=-6 && pz>=-11 && px<=18 && px>=15 && p9==0){pic9=1; p9=1;};
		for (d=1; d<2; d++){
			if (pic9==1){
				window.d1.innerHTML = "<audio src='audio/audio109.m4a' autoplay controls />";
				pic9=0;
			};};
		
		
		//التحكم فى التعليق رقم 10
				
		
		if(pz<=3 && pz>=-3 && px<=18 && px>=15 && p10==0){pic10=1; p10=1;};
		for (d=1; d<2; d++){
			if (pic10==1){
				window.d1.innerHTML = "<audio src='audio/audio110.m4a' autoplay controls />";
				pic10=0;
			};};
		
		//التحكم فى التعليق رقم 11
		
		
		if(pz<=11 && pz>=6 && px<=18 && px>=15 && p11==0){pic11=1; p11=1;};
		for (d=1; d<2; d++){
			if (pic11==1){
				window.d1.innerHTML = "<audio src='audio/audio111.m4a' autoplay controls />";
				pic11=0;
			};};
		
	
		
		//نهاية المؤقت	
		}, 1000);
			*/
            
              /////////////////
            
        
</script>
</body>
</html>
